{
  "_from": "next",
  "_id": "next@9.0.6",
  "_inBundle": false,
  "_integrity": "sha512-kXq+AbgB/Pi5UtMkEkJbDW1ObdsrTKhcP48Bw8BQP4GNzWI9icDRqTQoa7hf+7SKCu1IMshDKan60T6UnZpJ+w==",
  "_location": "/next",
  "_phantomChildren": {},
  "_requested": {
    "escapedName": "next",
    "fetchSpec": "latest",
    "name": "next",
    "raw": "next",
    "rawSpec": "",
    "registry": true,
    "saveSpec": null,
    "type": "tag"
  },
  "_requiredBy": [
    "#USER",
    "/"
  ],
  "_resolved": "https://registry.npmjs.org/next/-/next-9.0.6.tgz",
  "_shasum": "cf6e84fdae20699033cb4603863a4dc297f5d002",
  "_spec": "next",
  "_where": "/home/carlos/Escritorio/Frejol/frejol-camanejo-proyecto-ventas-2019-II",
  "bin": {
    "next": "./dist/bin/next"
  },
  "bugs": {
    "url": "https://github.com/zeit/next.js/issues"
  },
  "bundleDependencies": false,
  "dependencies": {
    "@ampproject/toolbox-optimizer": "1.0.1",
    "@babel/core": "7.4.5",
    "@babel/plugin-proposal-class-properties": "7.4.4",
    "@babel/plugin-proposal-object-rest-spread": "7.4.4",
    "@babel/plugin-syntax-dynamic-import": "7.2.0",
    "@babel/plugin-transform-modules-commonjs": "7.4.4",
    "@babel/plugin-transform-runtime": "7.4.4",
    "@babel/preset-env": "7.4.5",
    "@babel/preset-react": "7.0.0",
    "@babel/preset-typescript": "7.3.3",
    "@babel/runtime": "7.4.5",
    "@babel/runtime-corejs2": "7.4.5",
    "amphtml-validator": "1.0.23",
    "async-retry": "1.2.3",
    "async-sema": "3.0.0",
    "autodll-webpack-plugin": "0.4.2",
    "babel-core": "7.0.0-bridge.0",
    "babel-loader": "8.0.6",
    "babel-plugin-syntax-jsx": "6.18.0",
    "babel-plugin-transform-define": "1.3.1",
    "babel-plugin-transform-react-remove-prop-types": "0.4.24",
    "chalk": "2.4.2",
    "ci-info": "2.0.0",
    "compression": "1.7.4",
    "conf": "5.0.0",
    "content-type": "1.0.4",
    "cookie": "0.4.0",
    "devalue": "2.0.0",
    "etag": "1.8.1",
    "find-up": "4.0.0",
    "fork-ts-checker-webpack-plugin": "1.3.4",
    "fresh": "0.5.2",
    "is-docker": "2.0.0",
    "jest-worker": "24.9.0",
    "launch-editor": "2.2.1",
    "loader-utils": "1.2.3",
    "mkdirp": "0.5.1",
    "node-fetch": "2.6.0",
    "ora": "3.4.0",
    "path-to-regexp": "2.1.0",
    "pnp-webpack-plugin": "1.5.0",
    "prop-types": "15.7.2",
    "prop-types-exact": "1.2.0",
    "raw-body": "2.4.0",
    "react-error-overlay": "5.1.6",
    "react-is": "16.8.6",
    "send": "0.17.1",
    "source-map": "0.6.1",
    "string-hash": "1.1.3",
    "strip-ansi": "5.2.0",
    "styled-jsx": "3.2.2",
    "terser": "4.0.0",
    "unfetch": "4.1.0",
    "url": "0.11.0",
    "watchpack": "2.0.0-beta.5",
    "webpack": "4.39.0",
    "webpack-dev-middleware": "3.7.0",
    "webpack-hot-middleware": "2.25.0",
    "webpack-sources": "1.3.0"
  },
  "deprecated": false,
  "description": "The React Framework",
  "devDependencies": {
    "@babel/parser": "7.4.5",
    "@taskr/clear": "1.1.0",
    "@taskr/esnext": "1.1.0",
    "@taskr/watch": "1.1.0",
    "@types/amphtml-validator": "1.0.0",
    "@types/babel-types": "7.0.7",
    "@types/babel__core": "7.1.2",
    "@types/babel__generator": "7.0.2",
    "@types/babel__template": "7.0.2",
    "@types/babel__traverse": "7.0.6",
    "@types/ci-info": "2.0.0",
    "@types/compression": "0.0.36",
    "@types/content-type": "1.1.3",
    "@types/cookie": "0.3.2",
    "@types/cross-spawn": "6.0.0",
    "@types/etag": "1.8.0",
    "@types/find-up": "2.1.1",
    "@types/fresh": "0.5.0",
    "@types/loader-utils": "1.1.3",
    "@types/mkdirp": "0.5.2",
    "@types/nanoid": "2.0.0",
    "@types/node-fetch": "2.3.4",
    "@types/react": "16.8.18",
    "@types/react-dom": "16.8.4",
    "@types/react-is": "16.7.1",
    "@types/resolve": "0.0.8",
    "@types/send": "0.14.4",
    "@types/styled-jsx": "2.2.8",
    "@types/text-table": "0.2.1",
    "@types/webpack-sources": "0.1.5",
    "@zeit/ncc": "0.18.5",
    "arg": "4.1.0",
    "babel-plugin-dynamic-import-node": "2.2.0",
    "nanoid": "2.0.3",
    "resolve": "1.11.0",
    "taskr": "1.1.0",
    "text-table": "0.2.0",
    "typescript": "3.5.1",
    "unistore": "3.4.1"
  },
  "engines": {
    "node": ">= 8.0.0"
  },
  "files": [
    "amp.d.ts",
    "amp.js",
    "app.d.ts",
    "app.js",
    "babel.d.ts",
    "babel.js",
    "client.d.ts",
    "client.js",
    "config.d.ts",
    "config.js",
    "constants.d.ts",
    "constants.js",
    "data.d.ts",
    "data.js",
    "dist",
    "document.d.ts",
    "document.js",
    "dynamic.d.ts",
    "dynamic.js",
    "error.d.ts",
    "error.js",
    "head.d.ts",
    "head.js",
    "link.d.ts",
    "link.js",
    "router.d.ts",
    "router.js",
    "types/global.d.ts",
    "types/index.d.ts"
  ],
  "gitHead": "20aa1e4d214488315c77ff6968d8ca4fcf37e32d",
  "homepage": "https://nextjs.org",
  "license": "MIT",
  "main": "./dist/server/next.js",
  "name": "next",
  "optionalDependencies": {},
  "peerDependencies": {
    "react": "^16.6.0",
    "react-dom": "^16.6.0"
  },
  "readme": "[![Next.js](https://assets.zeit.co/image/upload/v1538361091/repositories/next-js/next-js.png)](https://nextjs.org)\n\n<p align=\"center\">\n  <a aria-label=\"ZEIT logo\" href=\"https://github.com/zeit\">\n    <img src=\"https://img.shields.io/badge/MADE%20BY%20ZEIT-000000.svg?style=for-the-badge&logo=ZEIT&labelColor=000000&logoWidth=20\">\n  </a>\n  <a aria-label=\"NPM version\" href=\"https://www.npmjs.com/package/next\">\n    <img alt=\"\" src=\"https://img.shields.io/npm/v/next.svg?style=for-the-badge&labelColor=000000\">\n  </a>\n  <a aria-label=\"License\" href=\"https://github.com/zeit/next.js/blob/canary/license.md\">\n    <img alt=\"\" src=\"https://img.shields.io/npm/l/next.svg?style=for-the-badge&labelColor=000000\">\n  </a>\n  <a aria-label=\"join us in spectrum\" href=\"https://spectrum.chat/next-js\">\n    <img alt=\"\" src=\"https://img.shields.io/badge/Join%20the%20community-blueviolet.svg?style=for-the-badge&logo=Next.js&labelColor=000000&logoWidth=20\">\n  </a>\n</p>\n\n<p align=\"center\">\n  <strong>\n    Visit <a aria-label=\"next.js learn\" href=\"https://nextjs.org/learn\">https://nextjs.org/learn</a> to get started with Next.js.\n  </strong>\n</p>\n\n---\n\n**The below readme is the documentation for the `canary` (prerelease) branch. To view the documentation for the latest stable Next.js version visit [nextjs.org/docs](https://nextjs.org/docs).**\n\n---\n\n<!-- START doctoc generated TOC please keep comment here to allow auto update -->\n<!-- DON'T EDIT THIS SECTION, INSTEAD RE-RUN doctoc TO UPDATE -->\n<!-- https://github.com/thlorenz/doctoc -->\n\n- [How to use](#how-to-use)\n  - [Setup](#setup)\n    - [Quick Start](#quick-start)\n    - [Manual Setup](#manual-setup)\n  - [Automatic code splitting](#automatic-code-splitting)\n  - [CSS](#css)\n    - [Built-in CSS support](#built-in-css-support)\n    - [CSS-in-JS](#css-in-js)\n    - [Importing CSS / Sass / Less / Stylus files](#importing-css--sass--less--stylus-files)\n  - [Static file serving (e.g.: images)](#static-file-serving-eg-images)\n  - [Dynamic Routing](#dynamic-routing)\n  - [Populating `<head>`](#populating-head)\n  - [Fetching data and component lifecycle](#fetching-data-and-component-lifecycle)\n  - [Routing](#routing)\n    - [With `<Link>`](#with-link)\n      - [With URL object](#with-url-object)\n      - [Replace instead of push url](#replace-instead-of-push-url)\n      - [Using a component that supports `onClick`](#using-a-component-that-supports-onclick)\n      - [Forcing the Link to expose `href` to its child](#forcing-the-link-to-expose-href-to-its-child)\n      - [Disabling the scroll changes to top on page](#disabling-the-scroll-changes-to-top-on-page)\n    - [Imperatively](#imperatively)\n    - [Intercepting `popstate`](#intercepting-popstate)\n      - [With URL object](#with-url-object-1)\n      - [Router Events](#router-events)\n      - [Shallow Routing](#shallow-routing)\n    - [useRouter](#userouter)\n    - [Using a Higher Order Component](#using-a-higher-order-component)\n  - [Prefetching Pages](#prefetching-pages)\n    - [With `<Link>`](#with-link-1)\n    - [Imperatively](#imperatively-1)\n  - [API Routes](#api-routes)\n    - [Dynamic routes support](#dynamic-routes-support)\n    - [API Middlewares](#api-middlewares)\n    - [Helper Functions](#helper-functions)\n  - [Custom server and routing](#custom-server-and-routing)\n    - [Disabling file-system routing](#disabling-file-system-routing)\n    - [Dynamic assetPrefix](#dynamic-assetprefix)\n    - [Changing x-powered-by](#changing-x-powered-by)\n  - [Dynamic Import](#dynamic-import)\n    - [Basic Usage (Also does SSR)](#basic-usage-also-does-ssr)\n    - [With named exports](#with-named-exports)\n    - [With Custom Loading Component](#with-custom-loading-component)\n    - [With No SSR](#with-no-ssr)\n  - [Custom `<App>`](#custom-app)\n  - [Custom `<Document>`](#custom-document)\n    - [Customizing `renderPage`](#customizing-renderpage)\n  - [Custom error handling](#custom-error-handling)\n  - [Reusing the built-in error page](#reusing-the-built-in-error-page)\n  - [Custom configuration](#custom-configuration)\n    - [Setting a custom build directory](#setting-a-custom-build-directory)\n    - [Disabling etag generation](#disabling-etag-generation)\n    - [Configuring the onDemandEntries](#configuring-the-ondemandentries)\n    - [Configuring extensions looked for when resolving pages in `pages`](#configuring-extensions-looked-for-when-resolving-pages-in-pages)\n    - [Configuring the build ID](#configuring-the-build-id)\n    - [Configuring next process script](#configuring-next-process-script)\n  - [Customizing webpack config](#customizing-webpack-config)\n  - [Customizing babel config](#customizing-babel-config)\n  - [Exposing configuration to the server / client side](#exposing-configuration-to-the-server--client-side)\n    - [Build-time configuration](#build-time-configuration)\n    - [Runtime configuration](#runtime-configuration)\n  - [Starting the server on alternative hostname](#starting-the-server-on-alternative-hostname)\n  - [CDN support with Asset Prefix](#cdn-support-with-asset-prefix)\n- [Automatic Prerendering](#automatic-prerendering)\n- [Production deployment](#production-deployment)\n  - [Compression](#compression)\n  - [Serverless deployment](#serverless-deployment)\n    - [One Level Lower](#one-level-lower)\n    - [Summary](#summary)\n- [Browser support](#browser-support)\n- [TypeScript](#typescript)\n  - [Exported types](#exported-types)\n- [AMP Support](#amp-support)\n  - [Enabling AMP Support](#enabling-amp-support)\n  - [AMP First Page](#amp-first-page)\n  - [Hybrid AMP Page](#hybrid-amp-page)\n  - [AMP Page Modes](#amp-page-modes)\n  - [AMP Behavior with `next export`](#amp-behavior-with-next-export)\n  - [Adding AMP Components](#adding-amp-components)\n  - [AMP Validation](#amp-validation)\n  - [TypeScript Support](#typescript-support)\n- [Static HTML export](#static-html-export)\n  - [Usage](#usage)\n  - [Limitation](#limitation)\n- [Multi Zones](#multi-zones)\n  - [How to define a zone](#how-to-define-a-zone)\n  - [How to merge them](#how-to-merge-them)\n- [Recipes](#recipes)\n- [FAQ](#faq)\n- [Contributing](#contributing)\n- [Authors](#authors)\n\n<!-- END doctoc generated TOC please keep comment here to allow auto update -->\n\n## How to use\n\n### Setup\n\n#### Quick Start\n\n```bash\nnpx create-next-app\n```\n\n_([npx](https://medium.com/@maybekatz/introducing-npx-an-npm-package-runner-55f7d4bd282b) comes with npm 5.2+ and higher, see [instructions for older npm versions](https://gist.github.com/timer/833d9946fa8a05ba855729d05a38ac23))_\n\n#### Manual Setup\n\nInstall it in your project:\n\n```bash\nnpm install --save next react react-dom\n```\n\nand add a script to your package.json like this:\n\n```json\n{\n  \"scripts\": {\n    \"dev\": \"next\",\n    \"build\": \"next build\",\n    \"start\": \"next start\"\n  }\n}\n```\n\nAfter that, the file-system is the main API. Every `.js` file becomes a route that gets automatically processed and rendered.\n\nPopulate `./pages/index.js` inside your project:\n\n```jsx\nfunction Home() {\n  return <div>Welcome to Next.js!</div>\n}\n\nexport default Home\n```\n\nand then just run `npm run dev` and go to `http://localhost:3000`. To use another port, you can run `npm run dev -- -p <your port here>`.\n\nSo far, we get:\n\n- Automatic transpilation and bundling (with webpack and babel)\n- Hot code reloading\n- Server rendering and indexing of `./pages/`\n- Static file serving. `./static/` is mapped to `/static/` (given you [create a `./static/` directory](#static-file-serving-eg-images) inside your project)\n\n### Automatic code splitting\n\nEvery `import` you declare gets bundled and served with each page. That means pages never load unnecessary code!\n\n```jsx\nimport cowsay from 'cowsay-browser'\n\nfunction CowsayHi() {\n  return <pre>{cowsay.say({ text: 'hi there!' })}</pre>\n}\n\nexport default CowsayHi\n```\n\n### CSS\n\n#### Built-in CSS support\n\n<details>\n  <summary><b>Examples</b></summary>\n  <ul>\n    <li><a href=\"/examples/basic-css\">Basic css</a></li>\n  </ul>\n</details>\n\nWe bundle [styled-jsx](https://github.com/zeit/styled-jsx) to provide support for isolated scoped CSS. The aim is to support \"shadow CSS\" similar to Web Components, which unfortunately [do not support server-rendering and are JS-only](https://github.com/w3c/webcomponents/issues/71).\n\n```jsx\nfunction HelloWorld() {\n  return (\n    <div>\n      Hello world\n      <p>scoped!</p>\n      <style jsx>{`\n        p {\n          color: blue;\n        }\n        div {\n          background: red;\n        }\n        @media (max-width: 600px) {\n          div {\n            background: blue;\n          }\n        }\n      `}</style>\n      <style global jsx>{`\n        body {\n          background: black;\n        }\n      `}</style>\n    </div>\n  )\n}\n\nexport default HelloWorld\n```\n\nPlease see the [styled-jsx documentation](https://www.npmjs.com/package/styled-jsx) for more examples.\n\n#### CSS-in-JS\n\n<details>\n  <summary>\n    <b>Examples</b>\n  </summary>\n  <ul>\n    <li><a href=\"/examples/with-styled-components\">Styled components</a></li>\n    <li><a href=\"/examples/with-styletron\">Styletron</a></li>\n    <li><a href=\"/examples/with-glamor\">Glamor</a></li>\n    <li><a href=\"/examples/with-cxs\">Cxs</a></li>\n    <li><a href=\"/examples/with-aphrodite\">Aphrodite</a></li>\n    <li><a href=\"/examples/with-fela\">Fela</a></li>\n  </ul>\n</details>\n\nIt's possible to use any existing CSS-in-JS solution. The simplest one is inline styles:\n\n```jsx\nfunction HiThere() {\n  return <p style={{ color: 'red' }}>hi there</p>\n}\n\nexport default HiThere\n```\n\nTo use more sophisticated CSS-in-JS solutions, you typically have to implement style flushing for server-side rendering. We enable this by allowing you to define your own [custom `<Document>`](#custom-document) component that wraps each page.\n\n#### Importing CSS / Sass / Less / Stylus files\n\nTo support importing `.css`, `.scss`, `.less` or `.styl` files you can use these modules, which configure sensible defaults for server rendered applications.\n\n- [@zeit/next-css](https://github.com/zeit/next-plugins/tree/master/packages/next-css)\n- [@zeit/next-sass](https://github.com/zeit/next-plugins/tree/master/packages/next-sass)\n- [@zeit/next-less](https://github.com/zeit/next-plugins/tree/master/packages/next-less)\n- [@zeit/next-stylus](https://github.com/zeit/next-plugins/tree/master/packages/next-stylus)\n\n### Static file serving (e.g.: images)\n\nCreate a folder called `static` in your project root directory. From your code you can then reference those files with `/static/` URLs:\n\n```jsx\nfunction MyImage() {\n  return <img src=\"/static/my-image.png\" alt=\"my image\" />\n}\n\nexport default MyImage\n```\n\n<!--\nTo serve static files from the root directory you can add a folder called `public` and reference those files from the root, e.g: `/robots.txt`.\n-->\n\n_Note: Don't name the `static` directory anything else. The name can't be changed and is the only directory that Next.js uses for serving static assets._\n\n### Dynamic Routing\n\n<details>\n  <summary><b>Examples</b></summary>\n  <ul>\n    <li><a href=\"/examples/dynamic-routing\">Dynamic routing</a></li>\n  </ul>\n</details>\n\nDefining routes by using predefined paths is not always enough for complex applications, in Next.js you can add brackets to a page (`[param]`) to create a dynamic route (a.k.a. url slugs, pretty urls, et al).\n\nConsider the following page `pages/post/[pid].js`:\n\n```jsx\nimport { useRouter } from 'next/router'\n\nconst Post = () => {\n  const router = useRouter()\n  const { pid } = router.query\n\n  return <p>Post: {pid}</p>\n}\n\nexport default Post\n```\n\nAny route like `/post/1`, `/post/abc`, etc will be matched by `pages/post/[pid].js`.\nThe matched path parameter will be sent as a query parameter to the page.\n\nFor example, the route `/post/abc` will have the following `query` object: `{ pid: 'abc' }`.\nSimilarly, the route `/post/abc?foo=bar` will have the `query` object: `{ foo: 'bar', pid: 'abc' }`.\n\n> Note: Multiple dynamic route segments work the same way.\n>\n> For example, `pages/post/[pid]/[comment].js` would match `/post/1/a-comment`.\n> Its `query` object would be: `{ pid: '1', comment: 'a-comment' }`.\n\nA `<Link>` for `/post/abc` looks like so:\n\n```jsx\n<Link href=\"/post/[pid]\" as=\"/post/abc\">\n  <a>First Post</a>\n</Link>\n```\n\n- `href`: the path inside `pages` directory.\n- `as`: the path that will be rendered in the browser URL bar.\n\nAs `href` is a filesystem path, it shouldn't change at runtime, instead, you will probably need to change `as`\ndynamically according to your needs. Here's an example to create a list of links:\n\n```jsx\nconst pids = ['id1', 'id2', 'id3']\n{\n  pids.map(pid => (\n    <Link href=\"/post/[pid]\" as={`/post/${pid}`}>\n      <a>Post {pid}</a>\n    </Link>\n  ))\n}\n```\n\n> You can [read more about `<Link>` here](#with-link).\n\nHowever, if a query and route param name are the same, route parameters will override the matching query params.\nFor example, `/post/abc?pid=bcd` will have the `query` object: `{ pid: 'abc' }`.\n\n> **Note**: Predefined routes take precedence over dynamic routes.\n> For example, if you have `pages/post/[pid].js` and `pages/post/create.js`, the route `/post/create` will be matched by `pages/post/create.js` instead of the dynamic route (`[pid]`).\n\n> **Note**: Pages that are statically optimized by [automatic prerendering](#automatic-prerendering) will be hydrated without their route parameters provided (`query` will be empty, i.e. `{}`).\n> After hydration, Next.js will trigger an update to your application to provide the route parameters in the `query` object.\n> If your application cannot tolerate this behavior, you can opt-out of static optimization by capturing the query parameter in `getInitialProps`.\n\n> **Note**: If deploying to [ZEIT Now](https://zeit.co/now) dynamic routes will work out-of-the-box.\n> You do not need to configure custom routes in a `now.json` file.\n>\n> If you are new to ZEIT Now, you can learn how to deploy a Next.js app to it in the [_Deploying a Next.js App_ Learn section](https://nextjs.org/learn/basics/deploying-a-nextjs-app).\n\n### Populating `<head>`\n\n<details>\n<summary><b>Examples</b></summary>\n<ul>\n <li><a href=\"/examples/head-elements\">Head elements</a></li>\n <li><a href=\"/examples/layout-component\">Layout component</a></li>\n</ul>\n</details>\n\nWe expose a built-in component for appending elements to the `<head>` of the page.\n\n```jsx\nimport Head from 'next/head'\n\nfunction IndexPage() {\n  return (\n    <div>\n      <Head>\n        <title>My page title</title>\n        <meta name=\"viewport\" content=\"initial-scale=1.0, width=device-width\" />\n      </Head>\n      <p>Hello world!</p>\n    </div>\n  )\n}\n\nexport default IndexPage\n```\n\nTo avoid duplicate tags in your `<head>` you can use the `key` property, which will make sure the tag is only rendered once:\n\n```jsx\nimport Head from 'next/head'\n\nfunction IndexPage() {\n  return (\n    <div>\n      <Head>\n        <title>My page title</title>\n        <meta\n          name=\"viewport\"\n          content=\"initial-scale=1.0, width=device-width\"\n          key=\"viewport\"\n        />\n      </Head>\n      <Head>\n        <meta\n          name=\"viewport\"\n          content=\"initial-scale=1.2, width=device-width\"\n          key=\"viewport\"\n        />\n      </Head>\n      <p>Hello world!</p>\n    </div>\n  )\n}\n\nexport default IndexPage\n```\n\nIn this case only the second `<meta name=\"viewport\" />` is rendered.\n\n_Note: The contents of `<head>` get cleared upon unmounting the component, so make sure each page completely defines what it needs in `<head>`, without making assumptions about what other pages added._\n\n_Note: `<title>` and `<meta>` elements need to be contained as **direct** children of the `<Head>` element, or wrapped into maximum one level of `<React.Fragment>`, otherwise the metatags won't be correctly picked up on clientside navigation._\n\n### Fetching data and component lifecycle\n\n<details>\n  <summary><b>Examples</b></summary>\n  <ul>\n    <li><a href=\"/examples/data-fetch\">Data fetch</a></li>\n  </ul>\n</details>\n\nWhen you need state, lifecycle hooks or **initial data population** you can export a function component that uses [Hooks](https://reactjs.org/docs/hooks-intro.html) or a [class component](https://reactjs.org/docs/react-component.html).\n\nUsing a function component:\n\n```jsx\nimport fetch from 'isomorphic-unfetch'\n\nfunction Page({ stars }) {\n  return <div>Next stars: {stars}</div>\n}\n\nPage.getInitialProps = async ({ req }) => {\n  const res = await fetch('https://api.github.com/repos/zeit/next.js')\n  const json = await res.json()\n  return { stars: json.stargazers_count }\n}\n\nexport default Page\n```\n\nUsing a class component:\n\n```jsx\nimport React from 'react'\n\nclass HelloUA extends React.Component {\n  static async getInitialProps({ req }) {\n    const userAgent = req ? req.headers['user-agent'] : navigator.userAgent\n    return { userAgent }\n  }\n\n  render() {\n    return <div>Hello World {this.props.userAgent}</div>\n  }\n}\n\nexport default HelloUA\n```\n\nNotice that to load data when the page loads, we use `getInitialProps` which is an [`async`](https://zeit.co/blog/async-and-await) static method. It can asynchronously fetch anything that resolves to a JavaScript plain `Object`, which populates `props`.\n\nData returned from `getInitialProps` is serialized when server rendering, similar to a `JSON.stringify`. Make sure the returned object from `getInitialProps` is a plain `Object` and not using `Date`, `Map` or `Set`.\n\nFor the initial page load, `getInitialProps` will execute on the server only. `getInitialProps` will only be executed on the client when navigating to a different route via the `Link` component or using the routing APIs.\n\n<br/>\n\n> - `getInitialProps` can **not** be used in children components. Only in `pages`.\n> - If you are using some server only modules inside `getInitialProps`, make sure to [import them properly](https://arunoda.me/blog/ssr-and-server-only-modules), otherwise, it'll slow down your app.\n\n<br/>\n\n`getInitialProps` receives a context object with the following properties:\n\n- `pathname` - path section of URL\n- `query` - query string section of URL parsed as an object\n- `asPath` - `String` of the actual path (including the query) shows in the browser\n- `req` - HTTP request object (server only)\n- `res` - HTTP response object (server only)\n- `err` - Error object if any error is encountered during the rendering\n\n### Routing\n\nNext.js does not ship a routes manifest with every possible route in the application, so the current page is not aware of any other pages on the client side. All subsequent routes get lazy-loaded, for scalability sake.\n\n#### With `<Link>`\n\n<details>\n  <summary><b>Examples</b></summary>\n  <ul>\n    <li><a href=\"/examples/hello-world\">Hello World</a></li>\n  </ul>\n</details>\n\nClient-side transitions between routes can be enabled via a `<Link>` component.\n\n> This component is not required for navigations to static pages that require a hard refresh, like when using [AMP](#amp-support).\n\n**Basic Example**\n\nConsider these two pages:\n\n```jsx\n// pages/index.js\nimport Link from 'next/link'\n\nfunction Home() {\n  return (\n    <>\n      <ul>\n        <li>Home</li>\n        <li>\n          <Link href=\"/about\">\n            <a>About Us</a>\n          </Link>\n        </li>\n      </ul>\n\n      <h1>This is our homepage.</h1>\n    </>\n  )\n}\n\nexport default Home\n```\n\n```jsx\n// pages/about.js\nimport Link from 'next/link'\n\nfunction About() {\n  return (\n    <>\n      <ul>\n        <li>\n          <Link href=\"/\">\n            <a>Home</a>\n          </Link>\n        </li>\n        <li>About Us</li>\n      </ul>\n\n      <h1>About</h1>\n      <p>We are a cool company.</p>\n    </>\n  )\n}\n\nexport default About\n```\n\nNote: if passing a functional component as a child of `<Link>` you will need to wrap it in [`React.forwardRef`](https://reactjs.org/docs/react-api.html#reactforwardref)\n\n**Example with `React.forwardRef`**\n\n```jsx\nimport React from 'react'\nimport Link from 'next/link'\n\n// `onClick`, `href`, and `ref` need to be passed to the DOM element\n// for proper handling\nconst MyButton = React.forwardRef(({ onClick, href }, ref) => (\n  <a href={href} onClick={onClick} ref={ref}>\n    Click Me\n  </a>\n))\n\nexport default () => (\n  <>\n    <Link href=\"/another\">\n      <MyButton />\n    </Link>\n  </>\n)\n```\n\n**Custom routes (using props from URL)**\n\nIf you find that your use case is not covered by [Dynamic Routing](#dynamic-routing) then you can create a custom server and manually add dynamic routes.\n\nExample:\n\n1. Consider you have the URL `/post/:slug`.\n\n2. You created `pages/post.js`:\n\n   ```jsx\n   import { useRouter } from 'next/router'\n\n   const Post = () => {\n     const router = useRouter()\n     const { slug } = router.query\n\n     return <p>My Blog Post: {slug}</p>\n   }\n\n   export default Post\n   ```\n\n3. You add the route to `express` (or any other server) on `server.js` file (this is only for SSR). This will route the url `/post/:slug` to `pages/post.js` and provide `slug` as part of the `query` object to the page.\n\n   ```jsx\n   server.get('/post/:slug', (req, res) => {\n     return app.render(req, res, '/post', { slug: req.params.slug })\n   })\n   ```\n\n4. For client side routing, use `next/link`:\n\n   ```jsx\n   <Link href=\"/post?slug=something\" as=\"/post/something\">\n   ```\n\n   - `href`: the path inside `pages` directory\n   - `as`: the path used by your server routes\n\nClient-side routing behaves exactly like the browser:\n\n1. The component is fetched.\n2. If it defines `getInitialProps`, data is fetched. If an error occurs, `_error.js` is rendered.\n3. After 1 and 2 complete, `pushState` is performed and the new component is rendered.\n\nTo inject the `pathname`, `query` or `asPath` in your component, you can use the [useRouter](#userouter) hook, or [withRouter](#using-a-higher-order-component) for class components.\n\n##### With URL object\n\n<details>\n  <summary><b>Examples</b></summary>\n  <ul>\n    <li><a href=\"/examples/with-url-object-routing\">With URL Object Routing</a></li>\n  </ul>\n</details>\n\nThe component `<Link>` can also receive a URL object and it will automatically format it to create the URL string.\n\n```jsx\n// pages/index.js\nimport Link from 'next/link'\n\nfunction Home() {\n  return (\n    <div>\n      Click{' '}\n      <Link href={{ pathname: '/about', query: { name: 'Zeit' } }}>\n        <a>here</a>\n      </Link>{' '}\n      to read more\n    </div>\n  )\n}\n\nexport default Home\n```\n\nThat will generate the URL string `/about?name=Zeit`, you can use every property as defined in the [Node.js URL module documentation](https://nodejs.org/api/url.html#url_url_strings_and_url_objects).\n\n##### Replace instead of push url\n\nThe default behaviour for the `<Link>` component is to `push` a new url into the stack. You can use the `replace` prop to prevent adding a new entry.\n\n```jsx\n// pages/index.js\nimport Link from 'next/link'\n\nfunction Home() {\n  return (\n    <div>\n      Click{' '}\n      <Link href=\"/about\" replace>\n        <a>here</a>\n      </Link>{' '}\n      to read more\n    </div>\n  )\n}\n\nexport default Home\n```\n\n##### Using a component that supports `onClick`\n\n`<Link>` supports any component that supports the `onClick` event. In case you don't provide an `<a>` tag, it will only add the `onClick` event handler and won't pass the `href` property.\n\n```jsx\n// pages/index.js\nimport Link from 'next/link'\n\nfunction Home() {\n  return (\n    <div>\n      Click{' '}\n      <Link href=\"/about\">\n        <img src=\"/static/image.png\" alt=\"image\" />\n      </Link>\n    </div>\n  )\n}\n\nexport default Home\n```\n\n##### Forcing the Link to expose `href` to its child\n\nIf child is an `<a>` tag and doesn't have a href attribute we specify it so that the repetition is not needed by the user. However, sometimes, you’ll want to pass an `<a>` tag inside of a wrapper and the `Link` won’t recognize it as a _hyperlink_, and, consequently, won’t transfer its `href` to the child. In cases like that, you should define a boolean `passHref` property to the `Link`, forcing it to expose its `href` property to the child.\n\n**Please note**: using a tag other than `a` and failing to pass `passHref` may result in links that appear to navigate correctly, but, when being crawled by search engines, will not be recognized as links (owing to the lack of `href` attribute). This may result in negative effects on your sites SEO.\n\n```jsx\nimport Link from 'next/link'\nimport Unexpected_A from 'third-library'\n\nfunction NavLink({ href, name }) {\n  return (\n    <Link href={href} passHref>\n      <Unexpected_A>{name}</Unexpected_A>\n    </Link>\n  )\n}\n\nexport default NavLink\n```\n\n##### Disabling the scroll changes to top on page\n\nThe default behaviour of `<Link>` is to scroll to the top of the page. When there is a hash defined it will scroll to the specific id, just like a normal `<a>` tag. To prevent scrolling to the top / hash `scroll={false}` can be added to `<Link>`:\n\n```jsx\n<Link scroll={false} href=\"/?counter=10\"><a>Disables scrolling</a></Link>\n<Link href=\"/?counter=10\"><a>Changes with scrolling to top</a></Link>\n```\n\n#### Imperatively\n\n<details>\n  <summary><b>Examples</b></summary>\n  <ul>\n    <li><a href=\"/examples/using-router\">Basic routing</a></li>\n    <li><a href=\"/examples/with-loading\">With a page loading indicator</a></li>\n  </ul>\n</details>\n\nYou can also do client-side page transitions using `next/router`:\n\n```jsx\nimport Router from 'next/router'\n\nfunction ReadMore() {\n  return (\n    <div>\n      Click <span onClick={() => Router.push('/about')}>here</span> to read more\n    </div>\n  )\n}\n\nexport default ReadMore\n```\n\n#### Intercepting `popstate`\n\nIn some cases (for example, if using a [custom router](#custom-server-and-routing)), you may wish\nto listen to [`popstate`](https://developer.mozilla.org/en-US/docs/Web/Events/popstate) and react before the router acts on it.\nFor example, you could use this to manipulate the request, or force an SSR refresh.\n\n```jsx\nimport Router from 'next/router'\n\nRouter.beforePopState(({ url, as, options }) => {\n  // I only want to allow these two routes!\n  if (as !== '/' && as !== '/other') {\n    // Have SSR render bad routes as a 404.\n    window.location.href = as\n    return false\n  }\n\n  return true\n})\n```\n\nIf the function you pass into `beforePopState` returns `false`, `Router` will not handle `popstate`;\nyou'll be responsible for handling it, in that case.\nSee [Disabling File-System Routing](#disabling-file-system-routing).\n\nAbove `Router` object comes with the following API:\n\n- `route` - `String` of the current route\n- `pathname` - `String` of the current path excluding the query string\n- `query` - `Object` with the parsed query string. Defaults to `{}`.\n- `asPath` - `String` of the actual path (including the query) shows in the browser\n- `push(url, as=url)` - performs a `pushState` call with the given url\n- `replace(url, as=url)` - performs a `replaceState` call with the given url\n- `beforePopState(cb=function)` - intercept popstate before router processes the event\n\nThe second `as` parameter for `push` and `replace` is an optional _decoration_ of the URL. Useful if you configured custom routes on the server.\n\n##### With URL object\n\nYou can use a URL object the same way you use it in a `<Link>` component to `push` and `replace` a URL.\n\n```jsx\nimport Router from 'next/router'\n\nconst handler = () => {\n  Router.push({\n    pathname: '/about',\n    query: { name: 'Zeit' },\n  })\n}\n\nfunction ReadMore() {\n  return (\n    <div>\n      Click <span onClick={handler}>here</span> to read more\n    </div>\n  )\n}\n\nexport default ReadMore\n```\n\nThis uses the same exact parameters as [in the `<Link>` component](#with-url-object). The first parameter maps to `href` while the second parameter maps to `as` in the `<Link>` component as documented [here](#with-url-object).\n\n##### Router Events\n\nYou can also listen to different events happening inside the Router.\nHere's a list of supported events:\n\n- `routeChangeStart(url)` - Fires when a route starts to change\n- `routeChangeComplete(url)` - Fires when a route changed completely\n- `routeChangeError(err, url)` - Fires when there's an error when changing routes, or a route load is cancelled\n- `beforeHistoryChange(url)` - Fires just before changing the browser's history\n- `hashChangeStart(url)` - Fires when the hash will change but not the page\n- `hashChangeComplete(url)` - Fires when the hash has changed but not the page\n\n> Here `url` is the URL shown in the browser. If you call `Router.push(url, as)` (or similar), then the value of `url` will be `as`.\n\nHere's how to properly listen to the router event `routeChangeStart`:\n\n```js\nconst handleRouteChange = url => {\n  console.log('App is changing to: ', url)\n}\n\nRouter.events.on('routeChangeStart', handleRouteChange)\n```\n\nIf you no longer want to listen to that event, you can unsubscribe with the `off` method:\n\n```js\nRouter.events.off('routeChangeStart', handleRouteChange)\n```\n\nIf a route load is cancelled (for example by clicking two links rapidly in succession), `routeChangeError` will fire. The passed `err` will contain a `cancelled` property set to `true`.\n\n```js\nRouter.events.on('routeChangeError', (err, url) => {\n  if (err.cancelled) {\n    console.log(`Route to ${url} was cancelled!`)\n  }\n})\n```\n\n> **Note**: Using router events in `getInitialProps` is discouraged as it may result in unexpected behavior.<br/>\n> Router events should be registered when a component mounts (`useEffect` or `componentDidMount`/`componentWillUnmount`) or imperatively when an event happens.\n>\n> ```js\n> useEffect(() => {\n>   const handleRouteChange = url => {\n>     console.log('App is changing to: ', url)\n>   }\n>\n>   Router.events.on('routeChangeStart', handleRouteChange)\n>   return () => {\n>     Router.events.off('routeChangeStart', handleRouteChange)\n>   }\n> }, [])\n> ```\n\n##### Shallow Routing\n\n<details>\n  <summary><b>Examples</b></summary>\n  <ul>\n    <li><a href=\"/examples/with-shallow-routing\">Shallow Routing</a></li>\n  </ul>\n</details>\n\nShallow routing allows you to change the URL without running `getInitialProps`. You'll receive the updated `pathname` and the `query` via the `router` prop (injected by using [`useRouter`](#userouter) or [`withRouter`](#using-a-higher-order-component)), without losing state.\n\nYou can do this by invoking either `Router.push` or `Router.replace` with the `shallow: true` option. Here's an example:\n\n```js\n// Current URL is \"/\"\nconst href = '/?counter=10'\nconst as = href\nRouter.push(href, as, { shallow: true })\n```\n\nNow, the URL is updated to `/?counter=10`. You can see the updated URL with `this.props.router.query` inside the `Component` (make sure you are using [`withRouter`](#using-a-higher-order-component) around your `Component` to inject the `router` prop).\n\nYou can watch for URL changes via [`componentDidUpdate`](https://reactjs.org/docs/react-component.html#componentdidupdate) hook as shown below:\n\n```js\ncomponentDidUpdate(prevProps) {\n  const { pathname, query } = this.props.router\n  // verify props have changed to avoid an infinite loop\n  if (query.id !== prevProps.router.query.id) {\n    // fetch data based on the new query\n  }\n}\n```\n\n> NOTES:\n>\n> Shallow routing works **only** for same page URL changes. For an example, let's assume we have another page called `about`, and you run this:\n>\n> ```js\n> Router.push('/?counter=10', '/about?counter=10', { shallow: true })\n> ```\n>\n> Since that's a new page, it'll unload the current page, load the new one and call `getInitialProps` even though we asked to do shallow routing.\n\n#### useRouter\n\n<details>\n  <summary><b>Examples</b></summary>\n  <ul>\n    <li><a href=\"/examples/dynamic-routing\">Dynamic routing</a></li>\n  </ul>\n</details>\n\nIf you want to access the `router` object inside any functional component in your app, you can use the `useRouter` hook, here's how to use it:\n\n```jsx\nimport { useRouter } from 'next/router'\n\nexport default function ActiveLink({ children, href }) {\n  const router = useRouter()\n  const style = {\n    marginRight: 10,\n    color: router.pathname === href ? 'red' : 'black',\n  }\n\n  const handleClick = e => {\n    e.preventDefault()\n    router.push(href)\n  }\n\n  return (\n    <a href={href} onClick={handleClick} style={style}>\n      {children}\n    </a>\n  )\n}\n```\n\n> **Note**: `useRouter` is a React hook, meaning it cannot be used with classes.\n> You can either use [`withRouter`](#using-a-higher-order-component) (a higher order component) or wrap your class in a functional component.\n\nThe above `router` object comes with an API similar to [`next/router`](#imperatively).\n\n#### Using a Higher Order Component\n\n<details>\n  <summary><b>Examples</b></summary>\n  <ul>\n    <li><a href=\"/examples/using-with-router\">Using the `withRouter` utility</a></li>\n  </ul>\n</details>\n\nIf [useRouter](#userouter) is not the best fit for you, `withRouter` can also add the same `router` object to any component, here's how to use it:\n\n```jsx\nimport { withRouter } from 'next/router'\n\nfunction Page({ router }) {\n  return <p>{router.pathname}</p>\n}\n\nexport default withRouter(Page)\n```\n\n### Prefetching Pages\n\n⚠️ This is a production only feature ⚠️\n\n<details>\n  <summary><b>Examples</b></summary>\n  <ul>\n    <li><a href=\"/examples/with-prefetching\">Prefetching</a></li>\n  </ul>\n</details>\n\nNext.js has an API which allows you to prefetch pages.\n\nSince Next.js server-renders your pages, this allows all the future interaction paths of your app to be instant. Effectively Next.js gives you the great initial download performance of a _website_, with the ahead-of-time download capabilities of an _app_. [Read more](https://zeit.co/blog/next#anticipation-is-the-key-to-performance).\n\n> With prefetching Next.js only downloads JS code. When the page is getting rendered, you may need to wait for the data.\n\n> Automatic prefetching is disabled if your device is connected with 2G network or [Save-Data](https://developer.mozilla.org/en-US/docs/Web/HTTP/Headers/Save-Data) header is `on`.\n\n> `<link rel=\"preload\">` is used for prefetching. Sometimes browsers will show a warning if the resource is not used within 3 seconds, these warnings can be ignored as per https://github.com/zeit/next.js/issues/6517#issuecomment-469063892.\n\n#### With `<Link>`\n\n`<Link>` will automatically prefetch pages in the background as they appear in the view. If certain pages are rarely visited you can manually set `prefetch` to `false`, here's how:\n\n```jsx\n<Link href=\"/about\" prefetch={false}>\n  <a>About</a>\n</Link>\n```\n\n#### Imperatively\n\nMost prefetching needs are addressed by `<Link />`, but we also expose an imperative API for advanced usage:\n\n```jsx\nimport { useRouter } from 'next/router'\n\nexport default function MyLink() {\n  const router = useRouter()\n\n  return (\n    <>\n      <a onClick={() => setTimeout(() => router.push('/dynamic'), 100)}>\n        A route transition will happen after 100ms\n      </a>\n      {// and we can prefetch it!\n      router.prefetch('/dynamic')}\n    </>\n  )\n}\n```\n\n`router` methods should be only used inside the client side of your app though. In order to prevent any error regarding this subject use the imperatively `prefetch` method in the `useEffect()` hook:\n\n```jsx\nimport { useRouter } from 'next/router'\n\nexport default function MyLink() {\n  const router = useRouter()\n\n  useEffect(() => {\n    router.prefetch('/dynamic')\n  })\n\n  return (\n    <a onClick={() => setTimeout(() => router.push('/dynamic'), 100)}>\n      A route transition will happen after 100ms\n    </a>\n  )\n}\n```\n\nYou can also add it to the `componentDidMount()` lifecycle method when using `React.Component`:\n\n```jsx\nimport React from 'react'\nimport { withRouter } from 'next/router'\n\nclass MyLink extends React.Component {\n  componentDidMount() {\n    const { router } = this.props\n    router.prefetch('/dynamic')\n  }\n\n  render() {\n    const { router } = this.props\n\n    return (\n      <a onClick={() => setTimeout(() => router.push('/dynamic'), 100)}>\n        A route transition will happen after 100ms\n      </a>\n    )\n  }\n}\n\nexport default withRouter(MyLink)\n```\n\n### API Routes\n\n<details>\n  <summary><b>Examples</b></summary>\n  <ul>\n    <li><a href=\"/examples/api-routes\">Basic API routes</a></li>\n    <li><a href=\"/examples/api-routes-micro\">API routes with micro</a></li>\n    <li><a href=\"/examples/api-routes-middleware\">API routes with middleware</a></li>\n    <li><a href=\"/examples/api-routes-graphql\">API routes with GraphQL server</a></li>\n    <li><a href=\"/examples/api-routes-rest\">API routes with REST</a></li>\n  </ul>\n</details>\n\nAPI routes provides a straightforward solution to build your **API** with Next.js.\nStart by creating the `api/` folder inside the `./pages/` folder.\n\nEvery file inside `./pages/api` is mapped to `/api/*`.\nFor example, `./pages/api/posts.js` is mapped to the route `/api/posts`.\n\nHere's an example API route file:\n\n```js\nexport default (req, res) => {\n  res.setHeader('Content-Type', 'application/json')\n  res.statusCode = 200\n  res.end(JSON.stringify({ name: 'Nextjs' }))\n}\n```\n\n- `req` refers to [NextApiRequest](https://github.com/zeit/next.js/blob/v9.0.0/packages/next-server/lib/utils.ts#L143-L158) which extends [http.IncomingMessage](https://nodejs.org/api/http.html#http_class_http_incomingmessage)\n\n- `res` refers to [NextApiResponse](https://github.com/zeit/next.js/blob/v9.0.0/packages/next-server/lib/utils.ts#L168-L178) which extends [http.ServerResponse](https://nodejs.org/api/http.html#http_class_http_serverresponse)\n\nFor [API routes](#api-routes) there are built-in types `NextApiRequest` and `NextApiResponse`, which extend the `Node.js` request and response objects.\n\n```ts\nimport { NextApiRequest, NextApiResponse } from 'next'\n\nexport default (req: NextApiRequest, res: NextApiResponse) => {\n  res.status(200).json({ title: 'Next.js' })\n}\n```\n\nTo handle different HTTP methods for API calls you can access `req.method` in your resolver function:\n\n```js\nexport default (req, res) => {\n  if (req.method === 'POST') {\n    // Process your POST request\n  } else {\n    // Handle the rest of your HTTP methods\n  }\n}\n```\n\n> **Note**: API Routes [do not specify CORS headers](https://developer.mozilla.org/en-US/docs/Web/HTTP/CORS), so they'll be **same-origin only** by default.\n> You can customize this behavior by wrapping your export with CORS middleware.\n> We provide an [example of this below](#api-middlewares).\n\nAPI Routes do not increase your client-side bundle size. They are server-side only bundles.\n\n#### Dynamic routes support\n\nAPI pages support [dynamic routing](#dynamic-routing), so you can use all benefits mentioned already above.\n\nConsider the following page `./pages/api/post/[pid].js`, here is how you get parameters inside the resolver method:\n\n```js\nexport default (req, res) => {\n  const {\n    query: { pid },\n  } = req\n\n  res.end(`Post: ${pid}`)\n}\n```\n\n#### API Middlewares\n\nAPI routes provides built in middlewares which parse the incoming `req`.\nThose middlewares are:\n\n- `req.cookies` - an object containing the cookies sent by the request. Defaults to `{}`\n- `req.query` - an object containing the [query string](https://en.wikipedia.org/wiki/Query_string). Defaults to `{}`\n- `req.body` - an object containing the body parsed by `content-type`, or `null` if no body is sent\n\nBody parsing is enabled by default with a size limit of `1mb` for the parsed body.\nYou can opt-out of automatic body parsing if you need to consume it as a `Stream`:\n\n```js\n// ./pages/api/my-endpoint.js\nexport default (req, res) => {\n  // ...\n}\n\nexport const config = {\n  api: {\n    bodyParser: false,\n  },\n}\n```\n\nYou can adjust size of parsed body by adding `sizeLimit` key to `bodyParser`, supported values are by [bytes](https://github.com/visionmedia/bytes.js) library.\n\n```js\n// ./pages/api/my-endpoint.js\nexport default (req, res) => {\n  // ...\n}\n\nexport const config = {\n  api: {\n    bodyParser: {\n      sizeLimit: '1mb',\n    },\n  },\n}\n```\n\nAs an added bonus, you can also use any [Micro](https://github.com/zeit/micro) compatible [middleware](https://github.com/amio/awesome-micro)!\n\nFor example, [configuring CORS](https://developer.mozilla.org/en-US/docs/Web/HTTP/CORS) for your API endpoint can be done leveraging `micro-cors`.\n\nFirst, install `micro-cors`:\n\n```bash\nnpm i micro-cors\n# or\nyarn add micro-cors\n```\n\nThen, import `micro-cors` and [configure it](https://github.com/possibilities/micro-cors#readme). Finally, wrap your exported function in the middleware:\n\n```js\nimport Cors from 'micro-cors'\n\nconst cors = Cors({\n  allowedMethods: ['GET', 'HEAD'],\n})\n\nfunction Endpoint(req, res) {\n  res.json({ message: 'Hello Everyone!' })\n}\n\nexport default cors(Endpoint)\n```\n\n#### Helper Functions\n\nWe're providing a set of Express.js-like methods to improve the developer experience and increase the speed of creating new API endpoints:\n\n```js\nexport default (req, res) => {\n  res.status(200).json({ name: 'Next.js' })\n}\n```\n\n- `res.status(code)` - a function to set the status code. `code` must be a valid [HTTP status code](https://en.wikipedia.org/wiki/List_of_HTTP_status_codes)\n- `res.json(json)` - Sends a `JSON` response. `json` must be a valid `JSON` object\n- `res.send(body)` - Sends the HTTP response. `body` can be a `string`, an `object` or a `Buffer`\n\n### Custom server and routing\n\n<details>\n  <summary><b>Examples</b></summary>\n  <ul>\n    <li><a href=\"/examples/custom-server\">Basic custom server</a></li>\n    <li><a href=\"/examples/custom-server-express\">Express integration</a></li>\n    <li><a href=\"/examples/custom-server-hapi\">Hapi integration</a></li>\n    <li><a href=\"/examples/custom-server-koa\">Koa integration</a></li>\n    <li><a href=\"/examples/parameterized-routing\">Parameterized routing</a></li>\n    <li><a href=\"/examples/ssr-caching\">SSR caching</a></li>\n  </ul>\n</details>\n\nTypically you start your next server with `next start`. It's possible, however, to start a server 100% programmatically in order to customize routes, use route patterns, etc.\n\nWhen using a custom server with a server file, for example called `server.js`, make sure you update the scripts key in `package.json` to:\n\n```json\n{\n  \"scripts\": {\n    \"dev\": \"node server.js\",\n    \"build\": \"next build\",\n    \"start\": \"NODE_ENV=production node server.js\"\n  }\n}\n```\n\nThis example makes `/a` resolve to `./pages/b`, and `/b` resolve to `./pages/a`:\n\n```js\n// This file doesn't go through babel or webpack transformation.\n// Make sure the syntax and sources this file requires are compatible with the current node version you are running\n// See https://github.com/zeit/next.js/issues/1245 for discussions on Universal Webpack or universal Babel\nconst { createServer } = require('http')\nconst { parse } = require('url')\nconst next = require('next')\n\nconst dev = process.env.NODE_ENV !== 'production'\nconst app = next({ dev })\nconst handle = app.getRequestHandler()\n\napp.prepare().then(() => {\n  createServer((req, res) => {\n    // Be sure to pass `true` as the second argument to `url.parse`.\n    // This tells it to parse the query portion of the URL.\n    const parsedUrl = parse(req.url, true)\n    const { pathname, query } = parsedUrl\n\n    if (pathname === '/a') {\n      app.render(req, res, '/b', query)\n    } else if (pathname === '/b') {\n      app.render(req, res, '/a', query)\n    } else {\n      handle(req, res, parsedUrl)\n    }\n  }).listen(3000, err => {\n    if (err) throw err\n    console.log('> Ready on http://localhost:3000')\n  })\n})\n```\n\nThe `next` API is as follows:\n\n- `next(opts: object)`\n\nSupported options:\n\n- `dev` (`bool`) whether to launch Next.js in dev mode - default `false`\n- `dir` (`string`) where the Next project is located - default `'.'`\n- `quiet` (`bool`) Hide error messages containing server information - default `false`\n- `conf` (`object`) the same object you would use in `next.config.js` - default `{}`\n\nThen, change your `start` script to `NODE_ENV=production node server.js`.\n\n#### Disabling file-system routing\n\nBy default, `Next` will serve each file in `/pages` under a pathname matching the filename (eg, `/pages/some-file.js` is served at `site.com/some-file`.\n\nIf your project uses custom routing, this behavior may result in the same content being served from multiple paths, which can present problems with SEO and UX.\n\nTo disable this behavior & prevent routing based on files in `/pages`, simply set the following option in your `next.config.js`:\n\n```js\n// next.config.js\nmodule.exports = {\n  useFileSystemPublicRoutes: false,\n}\n```\n\nNote that `useFileSystemPublicRoutes` simply disables filename routes from SSR; client-side routing may still access those paths. If using this option, you should guard against navigation to routes you do not want programmatically.\n\nYou may also wish to configure the client-side Router to disallow client-side redirects to filename routes; please refer to [Intercepting `popstate`](#intercepting-popstate).\n\n#### Dynamic assetPrefix\n\nSometimes we need to set the `assetPrefix` dynamically. This is useful when changing the `assetPrefix` based on incoming requests.\nFor that, we can use `app.setAssetPrefix`.\n\nHere's an example usage of it:\n\n```js\nconst next = require('next')\nconst http = require('http')\n\nconst dev = process.env.NODE_ENV !== 'production'\nconst app = next({ dev })\nconst handleNextRequests = app.getRequestHandler()\n\napp.prepare().then(() => {\n  const server = new http.Server((req, res) => {\n    // Add assetPrefix support based on the hostname\n    if (req.headers.host === 'my-app.com') {\n      app.setAssetPrefix('http://cdn.com/myapp')\n    } else {\n      app.setAssetPrefix('')\n    }\n\n    handleNextRequests(req, res)\n  })\n\n  server.listen(port, err => {\n    if (err) {\n      throw err\n    }\n\n    console.log(`> Ready on http://localhost:${port}`)\n  })\n})\n```\n\n#### Changing x-powered-by\n\nBy default Next.js will add `x-powered-by` to the request headers. There's an optional way to opt-out of this:\n\n```js\n// next.config.js\nmodule.exports = {\n  poweredByHeader: false,\n}\n```\n\n### Dynamic Import\n\n<details>\n  <summary><b>Examples</b></summary>\n  <ul>\n    <li><a href=\"/examples/with-dynamic-import\">With Dynamic Import</a></li>\n  </ul>\n</details>\n\nNext.js supports ES2020 [dynamic `import()`](https://github.com/tc39/proposal-dynamic-import) for JavaScript.\nWith that, you could import JavaScript modules (inc. React Components) dynamically and work with them.\n\nYou can think dynamic imports as another way to split your code into manageable chunks.\nSince Next.js supports dynamic imports with SSR, you could do amazing things with it.\n\nHere are a few ways to use dynamic imports.\n\n#### Basic Usage (Also does SSR)\n\n```jsx\nimport dynamic from 'next/dynamic'\n\nconst DynamicComponent = dynamic(() => import('../components/hello'))\n\nfunction Home() {\n  return (\n    <div>\n      <Header />\n      <DynamicComponent />\n      <p>HOME PAGE is here!</p>\n    </div>\n  )\n}\n\nexport default Home\n```\n\n#### With named exports\n\n```jsx\n// components/hello.js\nexport function Hello() {\n  return <p>Hello!</p>\n}\n```\n\n```jsx\nimport dynamic from 'next/dynamic'\n\nconst DynamicComponent = dynamic(() =>\n  import('../components/hello').then(mod => mod.Hello)\n)\n\nfunction Home() {\n  return (\n    <div>\n      <Header />\n      <DynamicComponent />\n      <p>HOME PAGE is here!</p>\n    </div>\n  )\n}\n\nexport default Home\n```\n\n#### With Custom Loading Component\n\n```jsx\nimport dynamic from 'next/dynamic'\n\nconst DynamicComponentWithCustomLoading = dynamic(\n  () => import('../components/hello2'),\n  { loading: () => <p>...</p> }\n)\n\nfunction Home() {\n  return (\n    <div>\n      <Header />\n      <DynamicComponentWithCustomLoading />\n      <p>HOME PAGE is here!</p>\n    </div>\n  )\n}\n\nexport default Home\n```\n\n#### With No SSR\n\n```jsx\nimport dynamic from 'next/dynamic'\n\nconst DynamicComponentWithNoSSR = dynamic(\n  () => import('../components/hello3'),\n  { ssr: false }\n)\n\nfunction Home() {\n  return (\n    <div>\n      <Header />\n      <DynamicComponentWithNoSSR />\n      <p>HOME PAGE is here!</p>\n    </div>\n  )\n}\n\nexport default Home\n```\n\n### Custom `<App>`\n\n<details>\n  <summary><b>Examples</b></summary>\n  <ul>\n    <li><a href=\"/examples/with-app-layout\">Using `_app.js` for layout</a></li>\n    <li><a href=\"/examples/with-componentdidcatch\">Using `_app.js` to override `componentDidCatch`</a></li>\n  </ul>\n</details>\n\nNext.js uses the `App` component to initialize pages. You can override it and control the page initialization. Which allows you to do amazing things like:\n\n- Persisting layout between page changes\n- Keeping state when navigating pages\n- Custom error handling using `componentDidCatch`\n- Inject additional data into pages (for example by processing GraphQL queries)\n\nTo override, create the `./pages/_app.js` file and override the App class as shown below:\n\n```js\nimport React from 'react'\nimport App from 'next/app'\n\nclass MyApp extends App {\n  // Only uncomment this method if you have blocking data requirements for\n  // every single page in your application. This disables the ability to\n  // perform automatic static optimization, causing every page in your app to\n  // be server-side rendered.\n  //\n  // static async getInitialProps(appContext) {\n  //   // calls page's `getInitialProps` and fills `appProps.pageProps`\n  //   const appProps = await App.getInitialProps(appContext);\n  //\n  //   return { ...appProps }\n  // }\n\n  render() {\n    const { Component, pageProps } = this.props\n    return <Component {...pageProps} />\n  }\n}\n\nexport default MyApp\n```\n\n> **Note:** Adding a custom `getInitialProps` in App will affect [Automatic Prerendering](#automatic-prerendering)\n\n### Custom `<Document>`\n\n<details>\n  <summary><b>Examples</b></summary>\n  <ul>\n    <li><a href=\"/examples/with-styled-components\">Styled components custom document</a></li>\n  </ul>\n</details>\n\nA custom `<Document>` is commonly used to augment your application's `<html>` and `<body>` tags.\nThis is necessary because Next.js pages skip the definition of the surrounding document's markup.\n\nThis allows you to support Server-Side Rendering for CSS-in-JS libraries like\n[styled-components](/examples/with-styled-components) or [emotion](/examples/with-emotion).\nNote, [styled-jsx](https://github.com/zeit/styled-jsx) is included in Next.js by default.\n\nA custom `<Document>` can also include `getInitialProps` for expressing asynchronous server-rendering data requirements.\n\n> **Note**: `<Document>`'s `getInitialProps` function is not called during client-side transitions,\n> nor when a page is [automatically prerendered](#automatic-prerendering).\n\n> **Note**: Make sure to check if `ctx.req` / `ctx.res` are defined in `getInitialProps`.\n> These variables will be `undefined` when a page is being statically exported for `next export` or [automatic prerendering (static optimization)](#automatic-prerendering).\n\nTo use a custom `<Document>`, you must create a file at `./pages/_document.js` and extend the `Document` class:\n\n```jsx\n// _document is only rendered on the server side and not on the client side\n// Event handlers like onClick can't be added to this file\n\n// ./pages/_document.js\nimport Document, { Html, Head, Main, NextScript } from 'next/document'\n\nclass MyDocument extends Document {\n  static async getInitialProps(ctx) {\n    const initialProps = await Document.getInitialProps(ctx)\n    return { ...initialProps }\n  }\n\n  render() {\n    return (\n      <Html>\n        <Head />\n        <body>\n          <Main />\n          <NextScript />\n        </body>\n      </Html>\n    )\n  }\n}\n\nexport default MyDocument\n```\n\nAll of `<Html>`, `<Head />`, `<Main />` and `<NextScript />` are required for page to be properly rendered.\n\n**Note: React-components outside of `<Main />` will not be initialised by the browser. Do _not_ add application logic here. If you need shared components in all your pages (like a menu or a toolbar), take a look at the [`<App>`](#custom-app) component instead.**\n\nThe `ctx` object is equivalent to the one received in all [`getInitialProps`](#fetching-data-and-component-lifecycle) hooks, with one addition:\n\n- `renderPage` (`Function`) a callback that executes the actual React rendering logic (synchronously). It's useful to decorate this function in order to support server-rendering wrappers like Aphrodite's [`renderStatic`](https://github.com/Khan/aphrodite#server-side-rendering).\n\n#### Customizing `renderPage`\n\n🚧 It should be noted that the only reason you should be customizing `renderPage` is for usage with css-in-js libraries\nthat need to wrap the application to properly work with server-rendering. 🚧\n\n- It takes as argument an options object for further customization:\n\n```js\nimport Document from 'next/document'\n\nclass MyDocument extends Document {\n  static async getInitialProps(ctx) {\n    const originalRenderPage = ctx.renderPage\n\n    ctx.renderPage = () =>\n      originalRenderPage({\n        // useful for wrapping the whole react tree\n        enhanceApp: App => App,\n        // useful for wrapping in a per-page basis\n        enhanceComponent: Component => Component,\n      })\n\n    // Run the parent `getInitialProps` using `ctx` that now includes our custom `renderPage`\n    const initialProps = await Document.getInitialProps(ctx)\n\n    return initialProps\n  }\n}\n\nexport default MyDocument\n```\n\n### Custom error handling\n\n404 or 500 errors are handled both client and server side by a default component `error.js`. If you wish to override it, define a `_error.js` in the pages folder:\n\n⚠️ The `pages/_error.js` component is only used in production. In development you get an error with call stack to know where the error originated from. ⚠️\n\n```jsx\nimport React from 'react'\n\nfunction Error({ statusCode }) {\n  return (\n    <p>\n      {statusCode\n        ? `An error ${statusCode} occurred on server`\n        : 'An error occurred on client'}\n    </p>\n  )\n}\n\nError.getInitialProps = ({ res, err }) => {\n  const statusCode = res ? res.statusCode : err ? err.statusCode : null\n  return { statusCode }\n}\n\nexport default Error\n```\n\n### Reusing the built-in error page\n\nIf you want to render the built-in error page you can by using `next/error`:\n\n```jsx\nimport React from 'react'\nimport Error from 'next/error'\nimport fetch from 'isomorphic-unfetch'\n\nconst Page = ({ errorCode, stars }) => {\n  if (errorCode) {\n    return <Error statusCode={errorCode} />\n  }\n\n  return <div>Next stars: {stars}</div>\n}\n\nPage.getInitialProps = async () => {\n  const res = await fetch('https://api.github.com/repos/zeit/next.js')\n  const errorCode = res.statusCode > 200 ? res.statusCode : false\n  const json = await res.json()\n\n  return { errorCode, stars: json.stargazers_count }\n}\n\nexport default Page\n```\n\n> If you have created a custom error page you have to import your own `_error` component from `./_error` instead of `next/error`.\n\nThe Error component also takes `title` as a property if you want to pass in a text message along with a `statusCode`.\n\n### Custom configuration\n\nFor custom advanced behavior of Next.js, you can create a `next.config.js` in the root of your project directory (next to `pages/` and `package.json`).\n\nNote: `next.config.js` is a regular Node.js module, not a JSON file. It gets used by the Next server and build phases, and not included in the browser build.\n\n```js\n// next.config.js\nmodule.exports = {\n  /* config options here */\n}\n```\n\nOr use a function:\n\n```js\nmodule.exports = (phase, { defaultConfig }) => {\n  return {\n    /* config options here */\n  }\n}\n```\n\n`phase` is the current context in which the configuration is loaded. You can see all phases here: [constants](/packages/next-server/lib/constants.ts)\nPhases can be imported from `next/constants`:\n\n```js\nconst { PHASE_DEVELOPMENT_SERVER } = require('next/constants')\nmodule.exports = (phase, { defaultConfig }) => {\n  if (phase === PHASE_DEVELOPMENT_SERVER) {\n    return {\n      /* development only config options here */\n    }\n  }\n\n  return {\n    /* config options for all phases except development here */\n  }\n}\n```\n\n#### Setting a custom build directory\n\nYou can specify a name to use for a custom build directory. For example, the following config will create a `build` folder instead of a `.next` folder. If no configuration is specified then next will create a `.next` folder.\n\n```js\n// next.config.js\nmodule.exports = {\n  distDir: 'build',\n}\n```\n\n#### Disabling etag generation\n\nYou can disable etag generation for HTML pages depending on your cache strategy. If no configuration is specified then Next will generate etags for every page.\n\n```js\n// next.config.js\nmodule.exports = {\n  generateEtags: false,\n}\n```\n\n#### Configuring the onDemandEntries\n\nNext exposes some options that give you some control over how the server will dispose or keep in memories pages built:\n\n```js\nmodule.exports = {\n  onDemandEntries: {\n    // period (in ms) where the server will keep pages in the buffer\n    maxInactiveAge: 25 * 1000,\n    // number of pages that should be kept simultaneously without being disposed\n    pagesBufferLength: 2,\n  },\n}\n```\n\nThis is development-only feature. If you want to cache SSR pages in production, please see [SSR-caching](https://github.com/zeit/next.js/tree/canary/examples/ssr-caching) example.\n\n#### Configuring extensions looked for when resolving pages in `pages`\n\nAimed at modules like [`@next/mdx`](https://github.com/zeit/next.js/tree/canary/packages/next-mdx), that add support for pages ending with `.mdx`. `pageExtensions` allows you to configure the extensions looked for in the `pages` directory when resolving pages.\n\n```js\n// next.config.js\nmodule.exports = {\n  pageExtensions: ['mdx', 'jsx', 'js'],\n}\n```\n\n#### Configuring the build ID\n\nNext.js uses a constant generated at build time to identify which version of your application is being served. This can cause problems in multi-server deployments when `next build` is ran on every server. In order to keep a static build id between builds you can provide the `generateBuildId` function:\n\n```js\n// next.config.js\nmodule.exports = {\n  generateBuildId: async () => {\n    // For example get the latest git commit hash here\n    return 'my-build-id'\n  },\n}\n```\n\nTo fall back to the default of generating a unique id return `null` from the function:\n\n```js\nmodule.exports = {\n  generateBuildId: async () => {\n    // When process.env.YOUR_BUILD_ID is undefined we fall back to the default\n    if (process.env.YOUR_BUILD_ID) {\n      return process.env.YOUR_BUILD_ID\n    }\n\n    return null\n  },\n}\n```\n\n#### Configuring next process script\n\nYou can pass any node arguments to `next` CLI command.\n\n```bash\nNODE_OPTIONS=\"--throw-deprecation\" next\nNODE_OPTIONS=\"-r esm\" next\nNODE_OPTIONS=\"--inspect\" next\n```\n\n### Customizing webpack config\n\n<details>\n  <summary><b>Examples</b></summary>\n  <ul>\n    <li><a href=\"/examples/with-webpack-bundle-analyzer\">Custom webpack bundle analyzer</a></li>\n  </ul>\n</details>\n\nSome commonly asked for features are available as modules:\n\n- [@zeit/next-css](https://github.com/zeit/next-plugins/tree/master/packages/next-css)\n- [@zeit/next-sass](https://github.com/zeit/next-plugins/tree/master/packages/next-sass)\n- [@zeit/next-less](https://github.com/zeit/next-plugins/tree/master/packages/next-less)\n- [@zeit/next-preact](https://github.com/zeit/next-plugins/tree/master/packages/next-preact)\n- [@next/mdx](https://github.com/zeit/next.js/tree/canary/packages/next-mdx)\n\n> **Warning:** The `webpack` function is executed twice, once for the server and once for the client. This allows you to distinguish between client and server configuration using the `isServer` property.\n\nMultiple configurations can be combined together with function composition. For example:\n\n```js\nconst withMDX = require('@next/mdx')\nconst withSass = require('@zeit/next-sass')\n\nmodule.exports = withMDX(\n  withSass({\n    webpack(config, options) {\n      // Further custom configuration here\n      return config\n    },\n  })\n)\n```\n\nIn order to extend our usage of `webpack`, you can define a function that extends its config via `next.config.js`.\n\n```js\n// next.config.js is not transformed by Babel. So you can only use javascript features supported by your version of Node.js.\n\nmodule.exports = {\n  webpack: (config, { buildId, dev, isServer, defaultLoaders, webpack }) => {\n    // Note: we provide webpack above so you should not `require` it\n    // Perform customizations to webpack config\n    // Important: return the modified config\n\n    // Example using webpack option\n    config.plugins.push(new webpack.IgnorePlugin(/\\/__tests__\\//))\n    return config\n  },\n  webpackDevMiddleware: config => {\n    // Perform customizations to webpack dev middleware config\n    // Important: return the modified config\n    return config\n  },\n}\n```\n\nThe second argument to `webpack` is an object containing properties useful when customizing its configuration:\n\n- `buildId` - `String` the build id used as a unique identifier between builds\n- `dev` - `Boolean` shows if the compilation is done in development mode\n- `isServer` - `Boolean` shows if the resulting configuration will be used for server side (`true`), or client side compilation (`false`)\n- `defaultLoaders` - `Object` Holds loader objects Next.js uses internally, so that you can use them in custom configuration\n  - `babel` - `Object` the `babel-loader` configuration for Next.js\n\nExample usage of `defaultLoaders.babel`:\n\n```js\n// Example next.config.js for adding a loader that depends on babel-loader\n// This source was taken from the @next/mdx plugin source:\n// https://github.com/zeit/next.js/tree/canary/packages/next-mdx\nmodule.exports = {\n  webpack: (config, options) => {\n    config.module.rules.push({\n      test: /\\.mdx/,\n      use: [\n        options.defaultLoaders.babel,\n        {\n          loader: '@mdx-js/loader',\n          options: pluginOptions.options,\n        },\n      ],\n    })\n\n    return config\n  },\n}\n```\n\n### Customizing babel config\n\n<details>\n  <summary><b>Examples</b></summary>\n  <ul>\n    <li><a href=\"/examples/with-custom-babel-config\">Custom babel configuration</a></li>\n  </ul>\n</details>\n\nIn order to extend our usage of `babel`, you can simply define a `.babelrc` file at the root of your app. This file is optional.\n\nIf found, we're going to consider it the _source of truth_, therefore it needs to define what next needs as well, which is the `next/babel` preset.\n\nThis is designed so that you are not surprised by modifications we could make to the babel configurations.\n\nHere's an example `.babelrc` file:\n\n```json\n{\n  \"presets\": [\"next/babel\"],\n  \"plugins\": []\n}\n```\n\nThe `next/babel` preset includes everything needed to transpile React applications. This includes:\n\n- preset-env\n- preset-react\n- preset-typescript\n- plugin-proposal-class-properties\n- plugin-proposal-object-rest-spread\n- plugin-transform-runtime\n- styled-jsx\n\nThese presets / plugins **should not** be added to your custom `.babelrc`. Instead, you can configure them on the `next/babel` preset:\n\n```json\n{\n  \"presets\": [\n    [\n      \"next/babel\",\n      {\n        \"preset-env\": {},\n        \"transform-runtime\": {},\n        \"styled-jsx\": {},\n        \"class-properties\": {}\n      }\n    ]\n  ],\n  \"plugins\": []\n}\n```\n\nThe `modules` option on `\"preset-env\"` should be kept to `false` otherwise webpack code splitting is disabled.\n\n### Exposing configuration to the server / client side\n\nThere is a common need in applications to provide configuration values.\n\nNext.js supports 2 ways of providing configuration:\n\n- Build-time configuration\n- Runtime configuration\n\n#### Build-time configuration\n\nThe way build-time configuration works is by inlining the provided values into the Javascript bundle.\n\nYou can add the `env` key in `next.config.js`:\n\n```js\n// next.config.js\nmodule.exports = {\n  env: {\n    customKey: 'value',\n  },\n}\n```\n\nThis will allow you to use `process.env.customKey` in your code. For example:\n\n```jsx\n// pages/index.js\nfunction Index() {\n  return <h1>The value of customKey is: {process.env.customKey}</h1>\n}\n\nexport default Index\n```\n\n> **Warning:** Note that it is not possible to destructure process.env variables due to the webpack `DefinePlugin` replacing process.env.XXXX inline at build time.\n\n```js\n// Will not work\nconst { CUSTOM_KEY, CUSTOM_SECRET } = process.env\nAuthMethod({ key: CUSTOM_KEY, secret: CUSTOM_SECRET })\n\n// Will work as replaced inline\nAuthMethod({ key: process.env.CUSTOM_KEY, secret: process.env.CUSTOM_SECRET })\n```\n\n#### Runtime configuration\n\n> **Warning:** Note that this option is not available when using `target: 'serverless'`\n\n> **Warning:** Generally you want to use build-time configuration to provide your configuration.\n> The reason for this is that runtime configuration adds rendering / initialization overhead and is **incompatible with [automatic prerendering](#automatic-prerendering)**.\n\nThe `next/config` module gives your app access to the `publicRuntimeConfig` and `serverRuntimeConfig` stored in your `next.config.js`.\n\nPlace any server-only runtime config under a `serverRuntimeConfig` property.\n\nAnything accessible to both client and server-side code should be under `publicRuntimeConfig`.\n\n> **Note**: A page that relies on `publicRuntimeConfig` **must** use `getInitialProps` to opt-out of [automatic prerendering](#automatic-prerendering).\n> You can also de-optimize your entire application by creating a [Custom `<App>`](#custom-app) with `getInitialProps`.\n\n```js\n// next.config.js\nmodule.exports = {\n  serverRuntimeConfig: {\n    // Will only be available on the server side\n    mySecret: 'secret',\n    secondSecret: process.env.SECOND_SECRET, // Pass through env variables\n  },\n  publicRuntimeConfig: {\n    // Will be available on both server and client\n    staticFolder: '/static',\n  },\n}\n```\n\n```js\n// pages/index.js\nimport getConfig from 'next/config'\n// Only holds serverRuntimeConfig and publicRuntimeConfig from next.config.js nothing else.\nconst { serverRuntimeConfig, publicRuntimeConfig } = getConfig()\n\nconsole.log(serverRuntimeConfig.mySecret) // Will only be available on the server side\nconsole.log(publicRuntimeConfig.staticFolder) // Will be available on both server and client\n\nfunction MyImage() {\n  return (\n    <div>\n      <img src={`${publicRuntimeConfig.staticFolder}/logo.png`} alt=\"logo\" />\n    </div>\n  )\n}\n\nexport default MyImage\n```\n\n### Starting the server on alternative hostname\n\nTo start the development server using a different default hostname you can use `--hostname hostname_here` or `-H hostname_here` option with next dev. This will start a TCP server listening for connections on the provided host.\n\n### CDN support with Asset Prefix\n\nTo set up a CDN, you can set up the `assetPrefix` setting and configure your CDN's origin to resolve to the domain that Next.js is hosted on.\n\n```js\nconst isProd = process.env.NODE_ENV === 'production'\nmodule.exports = {\n  // You may only need to add assetPrefix in the production.\n  assetPrefix: isProd ? 'https://cdn.mydomain.com' : '',\n}\n```\n\nNote: Next.js will automatically use that prefix in the scripts it loads, but this has no effect whatsoever on `/static`. If you want to serve those assets over the CDN, you'll have to introduce the prefix yourself. One way of introducing a prefix that works inside your components and varies by environment is documented [in this example](https://github.com/zeit/next.js/tree/master/examples/with-universal-configuration-build-time).\n\nIf your CDN is on a separate domain and you would like assets to be requested using a [CORS aware request](https://developer.mozilla.org/en-US/docs/Web/HTML/CORS_settings_attributes) you can set a config option for that.\n\n```js\n// next.config.js\nmodule.exports = {\n  crossOrigin: 'anonymous',\n}\n```\n\n## Automatic Prerendering\n\nNext.js automatically determines that a page is static (can be prerendered) if it has no blocking data requirements.\nThis determination is made by the absence of `getInitialProps` in the page.\n\nIf `getInitialProps` is present, Next.js will not prerender the page.\nInstead, Next.js will use its default behavior and render the page on-demand, per-request (meaning Server-Side Rendering).\n\nIf `getInitialProps` is absent, Next.js will **statically optimize** your page automatically by prerendering it to static HTML. During prerendering, the router's `query` object will be empty since we do not have `query` information to provide during this phase. Any `query` values will be populated client side after hydration.\n\nThis feature allows Next.js to emit hybrid applications that contain **both server-rendered and statically generated pages**.\nThis ensures Next.js always emits applications that are **fast by default**.\n\n> **Note**: Statically generated pages are still reactive: Next.js will hydrate your application client-side to give it full interactivity.\n\nThis feature provides many benefits.\nFor example, optimized pages require no server-side computation and can be instantly streamed to the end-user from CDN locations.\n\nThe result is an _ultra fast_ loading experience for your users.\n\n`next build` will emit `.html` files for statically optimized pages.\nThe result will be a file named `.next/server/static/${BUILD_ID}/about.html` instead of `.next/server/static/${BUILD_ID}/about.js`.\nThis behavior is similar for `target: 'serverless'`.\n\nThe built-in Next.js server (`next start`) and programmatic API (`app.getRequestHandler()`) both support this build output transparently.\nThere is no configuration or special handling required.\n\n> **Note**: If you have a [custom `<App>`](#custom-app) with `getInitialProps` then this optimization will be disabled.\n\n> **Note**: If you have a [custom `<Document>`](#custom-document) with `getInitialProps` be sure you check if `ctx.req` is defined before assuming the page is server-side rendered.\n> `ctx.req` will be `undefined` for pages that are prerendered.\n\n## Automatic Prerender Indicator\n\nWhen a page qualifies for automatic prerendering we show an indicator to let you know. This is helpful since the automatic prerendering optimization can be very beneficial and knowing immediately in development if it qualifies can be useful. See above for information on the benefits of this optimization.\n\nIn some cases this indicator might not be as useful like when working on electron applications. For these cases you can disable the indicator in your `next.config.js` by setting\n\n```js\nmodule.exports = {\n  devIndicators: {\n    autoPrerender: false,\n  },\n}\n```\n\n## Production deployment\n\nTo deploy, instead of running `next`, you want to build for production usage ahead of time. Therefore, building and starting are separate commands:\n\n```bash\nnext build\nnext start\n```\n\nTo deploy Next.js with [ZEIT Now](https://zeit.co/now) see the [ZEIT Guide for Deploying Next.js](https://zeit.co/guides/deploying-nextjs-with-now/) or the [Next.js Learn section about deploying on ZEIT Now](https://nextjs.org/learn/basics/deploying-a-nextjs-app/deploying-to-zeit-now).\n\nNext.js can be deployed to other hosting solutions too. Please have a look at the ['Deployment'](https://github.com/zeit/next.js/wiki/Deployment) section of the wiki.\n\nNote: `NODE_ENV` is properly configured by the `next` subcommands, if absent, to maximize performance. if you’re using Next.js [programmatically](#custom-server-and-routing), it’s your responsibility to set `NODE_ENV=production` manually!\n\nNote: we recommend putting `.next`, or your [custom dist folder](https://github.com/zeit/next.js#custom-configuration), in `.gitignore` or `.npmignore`. Otherwise, use `files` or `now.files` to opt-into a whitelist of files you want to deploy, excluding `.next` or your custom dist folder.\n\n### Compression\n\nNext.js provides [gzip](https://tools.ietf.org/html/rfc6713#section-3) compression to compress rendered content and static files. Compression only works with the `server` target. In general you will want to enable compression on a HTTP proxy like [nginx](https://www.nginx.com/), to offload load from the `Node.js` process.\n\nTo disable **compression** in Next.js, set `compress` to `false` in `next.config.js`:\n\n```js\n// next.config.js\nmodule.exports = {\n  compress: false,\n}\n```\n\n### Serverless deployment\n\n<details>\n  <summary><b>Examples</b></summary>\n  <ul>\n    <li><a href=\"https://github.com/zeit/now-examples/tree/master/nextjs\">now.sh</a></li>\n    <li><a href=\"https://github.com/TejasQ/anna-artemov.now.sh\">anna-artemov.now.sh</a></li>\n    <li>We encourage contributing more examples to this section</li>\n  </ul>\n</details>\n\nServerless deployment dramatically improves reliability and scalability by splitting your application into smaller parts (also called [**lambdas**](https://zeit.co/docs/v2/deployments/concepts/lambdas/)).\nIn the case of Next.js, each page in the `pages` directory becomes a serverless lambda.\n\nThere are [a number of benefits](https://zeit.co/blog/serverless-express-js-lambdas-with-now-2#benefits-of-serverless-express) to serverless.\nThe referenced link talks about some of them in the context of Express, but the principles apply universally:\nserverless allows for distributed points of failure, infinite scalability, and is incredibly affordable with a \"pay for what you use\" model.\n\nTo enable **serverless mode** in Next.js, add the `serverless` build `target` in `next.config.js`:\n\n```js\n// next.config.js\nmodule.exports = {\n  target: 'serverless',\n}\n```\n\nThe `serverless` target will output a single lambda or [HTML file](#automatic-prerendering) per page.\nThis file is completely standalone and doesn't require any dependencies to run:\n\n- `pages/index.js` => `.next/serverless/pages/index.js`\n- `pages/about.js` => `.next/serverless/pages/about.js`\n- `pages/blog.js` => `.next/serverless/pages/blog.html`\n\nThe signature of the Next.js Serverless function is similar to the Node.js HTTP server callback:\n\n```ts\nexport function render(req: http.IncomingMessage, res: http.ServerResponse) => void\n```\n\n- [http.IncomingMessage](https://nodejs.org/api/http.html#http_class_http_incomingmessage)\n- [http.ServerResponse](https://nodejs.org/api/http.html#http_class_http_serverresponse)\n- `void` refers to the function not having a return value and is equivalent to JavaScript's `undefined`. Calling the function will finish the request.\n\nThe static HTML files are ready to be served as-is.\nYou can read more about this feature, including how to opt-out, in the [Automatic Prerendering section](#automatic-prerendering).\n\nUsing the serverless target, you can deploy Next.js to [ZEIT Now](https://zeit.co/now) with all of the benefits and added ease of control like for example; [custom routes](https://zeit.co/guides/custom-next-js-server-to-routes/) and caching headers. See the [ZEIT Guide for Deploying Next.js with Now](https://zeit.co/guides/deploying-nextjs-with-now/) for more information.\n\n#### One Level Lower\n\nNext.js provides low-level APIs for serverless deployments as hosting platforms have different function signatures. In general you will want to wrap the output of a Next.js serverless build with a compatibility layer.\n\nFor example if the platform supports the Node.js [`http.Server`](https://nodejs.org/api/http.html#http_class_http_server) class:\n\n```js\nconst http = require('http')\nconst page = require('./.next/serverless/pages/about.js')\nconst server = new http.Server((req, res) => page.render(req, res))\nserver.listen(3000, () => console.log('Listening on http://localhost:3000'))\n```\n\nFor specific platform examples see [the examples section above](#serverless-deployment).\n\n#### Summary\n\n- Low-level API for implementing serverless deployment\n- Every page in the `pages` directory becomes a serverless function (lambda)\n- Creates the smallest possible serverless function (50Kb base zip size)\n- Optimized for fast [cold start](https://zeit.co/blog/serverless-ssr#cold-start) of the function\n- The serverless function has 0 dependencies (they are included in the function bundle)\n- Uses the [http.IncomingMessage](https://nodejs.org/api/http.html#http_class_http_incomingmessage) and [http.ServerResponse](https://nodejs.org/api/http.html#http_class_http_serverresponse) from Node.js\n- opt-in using `target: 'serverless'` in `next.config.js`\n- Does not load `next.config.js` when executing the function, note that this means `publicRuntimeConfig` / `serverRuntimeConfig` are not supported\n\n## Browser support\n\nNext.js supports IE11 and all modern browsers out of the box using [`@babel/preset-env`](https://new.babeljs.io/docs/en/next/babel-preset-env.html). In order to support IE11 Next.js adds a global `Promise` polyfill. In cases where your own code or any external NPM dependencies you are using requires features not supported by your target browsers you will need to implement polyfills.\n\nThe [polyfills](https://github.com/zeit/next.js/tree/canary/examples/with-polyfills) example demonstrates the recommended approach to implement polyfills.\n\n## TypeScript\n\nNext.js provides an integrated TypeScript experience out of the box, similar to an IDE.\n\nTo get started, create a empty `tsconfig.json` file in the root of your project:\n\n```bash\ntouch tsconfig.json\n```\n\nNext.js will automatically configure this file with default values (providing [your own `tsconfig.json`](https://www.typescriptlang.org/docs/handbook/compiler-options.html) is also supported).\n\nThen, run `next dev` (normally `npm run dev`) and Next.js will guide you through installing the necessary packages to complete setup.\n\n```bash\nnpm run dev\n\n# You'll see instructions like these:\n#\n# Please install typescript, @types/react, and @types/node by running:\n#\n#         yarn add --dev typescript @types/react @types/node\n#\n# ...\n```\n\nYou're now ready to start converting files from `.js` to `.tsx` and leveraging the benefits TypeScript provides!\n\nTo learn more about TypeScript checkout its [documentation](https://www.typescriptlang.org/).\n\n> **Note**: Next.js will create a file named `next-env.d.ts` in the root of your project.\n> This file ensures Next.js' types are picked up by the TypeScript compiler.\n>\n> **You cannot remove this file, however, you can edit it (but don't need to).**\n\n> **Note**: Next.js does not enable TypeScript's `strict` mode by default.\n> When you feel comfortable with TypeScript, you may turn this option on in your `tsconfig.json`.\n\n### Exported types\n\nNext.js provides `NextPage` type that can be used for pages in the `pages` directory. `NextPage` adds definitions for [`getInitialProps`](#fetching-data-and-component-lifecycle) so that it can be used without any extra typing needed.\n\n```tsx\nimport { NextPage } from 'next'\n\ninterface Props {\n  userAgent?: string\n}\n\nconst Page: NextPage<Props> = ({ userAgent }) => (\n  <main>Your user agent: {userAgent}</main>\n)\n\nPage.getInitialProps = async ({ req }) => {\n  const userAgent = req ? req.headers['user-agent'] : navigator.userAgent\n  return { userAgent }\n}\n\nexport default Page\n```\n\nFor `React.Component` you can use `NextPageContext`:\n\n```tsx\nimport React from 'react'\nimport { NextPageContext } from 'next'\n\ninterface Props {\n  userAgent?: string\n}\n\nexport default class Page extends React.Component<Props> {\n  static async getInitialProps({ req }: NextPageContext) {\n    const userAgent = req ? req.headers['user-agent'] : navigator.userAgent\n    return { userAgent }\n  }\n\n  render() {\n    const { userAgent } = this.props\n    return <main>Your user agent: {userAgent}</main>\n  }\n}\n```\n\n## AMP Support\n\n<details>\n  <summary><b>Examples</b></summary>\n  <ul>\n    <li><a href=\"https://github.com/zeit/next.js/tree/canary/examples/amp\">amp</a></li>\n  </ul>\n</details>\n\n### Enabling AMP Support\n\nTo enable AMP support for a page, add `export const config = { amp: true }` to your page.\n\n### AMP First Page\n\n```js\n// pages/about.js\nexport const config = { amp: true }\n\nexport default function AboutPage(props) {\n  return <h3>My AMP About Page!</h3>\n}\n```\n\n### Hybrid AMP Page\n\n```js\n// pages/hybrid-about.js\nimport { useAmp } from 'next/amp'\n\nexport const config = { amp: 'hybrid' }\n\nexport default function AboutPage(props) {\n  return (\n    <div>\n      <h3>My AMP Page</h3>\n      {useAmp() ? (\n        <amp-img\n          width=\"300\"\n          height=\"300\"\n          src=\"/my-img.jpg\"\n          alt=\"a cool image\"\n          layout=\"responsive\"\n        />\n      ) : (\n        <img width=\"300\" height=\"300\" src=\"/my-img.jpg\" alt=\"a cool image\" />\n      )}\n    </div>\n  )\n}\n```\n\n### AMP Page Modes\n\nAMP pages can specify two modes:\n\n- AMP-only (default)\n  - Pages have no Next.js or React client-side runtime\n  - Pages are automatically optimized with [AMP Optimizer](https://github.com/ampproject/amp-toolbox/tree/master/packages/optimizer), an optimizer that applies the same transformations as AMP caches (improves performance by up to 42%)\n  - Pages have a user-accessible (optimized) version of the page and a search-engine indexable (unoptimized) version of the page\n  - Opt-in via `export const config = { amp: true }`\n- Hybrid\n  - Pages are able to be rendered as traditional HTML (default) and AMP HTML (by adding `?amp=1` to the URL)\n  - The AMP version of the page only has valid optimizations applied with AMP Optimizer so that it is indexable by search-engines\n  - Opt-in via `export const config = { amp: 'hybrid' }`\n  - Able to differentiate between modes using `useAmp` from `next/amp`\n\nBoth of these page modes provide a consistently fast experience for users accessing pages through search engines.\n\n### AMP Behavior with `next export`\n\nWhen using `next export` to statically prerender pages Next.js will detect if the page supports AMP and change the exporting behavior based on that.\n\nHybrid AMP (`pages/about.js`) would output:\n\n- `out/about.html` - with client-side React runtime\n- `out/about.amp.html` - AMP page\n\nAMP-only (`pages/about.js`) would output:\n\n- `out/about.html` - Optimized AMP page\n\nDuring export Next.js automatically detects if a page is hybrid AMP and outputs the AMP version to `page.amp.html`. We also automatically insert the `<link rel=\"amphtml\" href=\"/page.amp\" />` and `<link rel=\"canonical\" href=\"/\" />` tags for you.\n\n> **Note**: When using `exportTrailingSlash: true` in `next.config.js`, output will be different. For Hybrid AMP pages, output will be `out/page/index.html` and `out/page.amp/index.html`, and for AMP-only pages, output will be `out/page/index.html`\n\n### Adding AMP Components\n\nThe AMP community provides [many components](https://amp.dev/documentation/components/) to make AMP pages more interactive. You can add these components to your page by using `next/head`:\n\n```js\n// pages/hello.js\nimport Head from 'next/head'\n\nexport const config = { amp: true }\n\nexport default function MyAmpPage() {\n  return (\n    <div>\n      <Head>\n        <script\n          async\n          key=\"amp-timeago\"\n          custom-element=\"amp-timeago\"\n          src=\"https://cdn.ampproject.org/v0/amp-timeago-0.1.js\"\n        />\n      </Head>\n\n      <p>Some time: {date.toJSON()}</p>\n      <amp-timeago\n        width=\"0\"\n        height=\"15\"\n        datetime={date.toJSON()}\n        layout=\"responsive\"\n      >\n        .\n      </amp-timeago>\n    </div>\n  )\n}\n```\n\n### AMP Validation\n\nAMP pages are automatically validated with [amphtml-validator](https://www.npmjs.com/package/amphtml-validator) during development. Errors and warnings will appear in the terminal where you started Next.js.\n\nPages are also validated during `next export` and any warnings / errors will be printed to the terminal.\nAny AMP errors will cause `next export` to exit with status code `1` because the export is not valid AMP.\n\n### TypeScript Support\n\nAMP currently doesn't have built-in types for TypeScript, but it's in their roadmap ([#13791](https://github.com/ampproject/amphtml/issues/13791)). As a workaround you can manually add the types to `amp.d.ts` like [here](https://stackoverflow.com/a/50601125).\n\n## Static HTML export\n\n<details>\n  <summary><b>Examples</b></summary>\n  <ul>\n    <li><a href=\"/examples/with-static-export\">Static export</a></li>\n  </ul>\n</details>\n\n`next export` is a way to run your Next.js app as a standalone static app without the need for a Node.js server.\nThe exported app supports almost every feature of Next.js, including dynamic urls, prefetching, preloading and dynamic imports.\n\nThe way `next export` works is by prerendering all pages possible to HTML. It does so based on a mapping of `pathname` key to page object. This mapping is called the `exportPathMap`.\n\nThe page object has 2 values:\n\n- `page` - `String` the page inside the `pages` directory to render\n- `query` - `Object` the `query` object passed to `getInitialProps` when prerendering. Defaults to `{}`\n\n### Usage\n\nSimply develop your app as you normally do with Next.js. Then run:\n\n```\nnext build\nnext export\n```\n\nBy default `next export` doesn't require any configuration. It will generate a default `exportPathMap` containing the routes to pages inside the `pages` directory. This default mapping is available as `defaultPathMap` in the example below.\n\nIf your application has dynamic routes you can add a dynamic `exportPathMap` in `next.config.js`.\nThis function is asynchronous and gets the default `exportPathMap` as a parameter.\n\n```js\n// next.config.js\nmodule.exports = {\n  exportPathMap: async function(\n    defaultPathMap,\n    { dev, dir, outDir, distDir, buildId }\n  ) {\n    return {\n      '/': { page: '/' },\n      '/about': { page: '/about' },\n      '/readme.md': { page: '/readme' },\n      '/p/hello-nextjs': { page: '/post', query: { title: 'hello-nextjs' } },\n      '/p/learn-nextjs': { page: '/post', query: { title: 'learn-nextjs' } },\n      '/p/deploy-nextjs': { page: '/post', query: { title: 'deploy-nextjs' } },\n    }\n  },\n}\n```\n\nThe pages will be exported as html files, i.e. `/about` will become `/about.html`.\n\nIt is possible to configure Next.js to export pages as `index.html` files and require trailing slashes, i.e. `/about` becomes `/about/index.html` and is routable via `/about/`.\nThis was the default behavior prior to Next.js 9.\nYou can use the following `next.config.js` to switch back to this behavior:\n\n```js\n// next.config.js\nmodule.exports = {\n  exportTrailingSlash: true,\n}\n```\n\n> **Note**: If the export path is a filename (e.g. `/readme.md`) and is different than `.html`, you may need to set the `Content-Type` header to `text/html` when serving this content.\n\nThe second argument is an `object` with:\n\n- `dev` - `true` when `exportPathMap` is being called in development. `false` when running `next export`. In development `exportPathMap` is used to define routes.\n- `dir` - Absolute path to the project directory\n- `outDir` - Absolute path to the `out/` directory (configurable with `-o` or `--outdir`). When `dev` is `true` the value of `outDir` will be `null`.\n- `distDir` - Absolute path to the `.next/` directory (configurable using the `distDir` config key)\n- `buildId` - The `buildId` the export is running for\n\nThen simply run these commands:\n\n```bash\nnext build\nnext export\n```\n\nFor that you may need to add a NPM script to `package.json` like this:\n\n```json\n{\n  \"scripts\": {\n    \"build\": \"next build\",\n    \"export\": \"npm run build && next export\"\n  }\n}\n```\n\nAnd run it at once with:\n\n```bash\nnpm run export\n```\n\nThen you have a static version of your app in the `out` directory.\n\n> You can also customize the output directory. For that run `next export -h` for the help.\n\nNow you can deploy the `out` directory to any static hosting service. Note that there is an additional step for deploying to GitHub Pages, [documented here](https://github.com/zeit/next.js/wiki/Deploying-a-Next.js-app-into-GitHub-Pages).\n\nFor an example, simply visit the `out` directory and run following command to deploy your app to [ZEIT Now](https://zeit.co/now).\n\n```bash\nnow\n```\n\n### Limitation\n\nWith `next export`, we build a HTML version of your app. At export time we will run `getInitialProps` of your pages.\n\nThe `req` and `res` fields of the `context` object passed to `getInitialProps` are empty objects during export as there is no server running.\n\n> **Note**: If your pages don't have `getInitialProps` you may not need `next export` at all, `next build` is already enough thanks to [automatic prerendering](#automatic-prerendering).\n\n> You won't be able to render HTML dynamically when static exporting, as we pre-build the HTML files. If you want to do dynamic rendering use `next start` or the custom server API\n\n## Multi Zones\n\n<details>\n  <summary><b>Examples</b></summary>\n  <ul>\n    <li><a href=\"/examples/with-zones\">With Zones</a></li>\n  </ul>\n</details>\n\nA zone is a single deployment of a Next.js app. Just like that, you can have multiple zones and then you can merge them as a single app.\n\nFor an example, you can have two zones like this:\n\n- An app for serving `/blog/**`\n- Another app for serving all other pages\n\nWith multi zones support, you can merge both these apps into a single one allowing your customers to browse it using a single URL, but you can develop and deploy both apps independently.\n\n> This is exactly the same concept of microservices, but for frontend apps.\n\n### How to define a zone\n\nThere are no special zones related APIs. You only need to do following:\n\n- Make sure to keep only the pages you need in your app, meaning that an app can't have pages from another app, if app `A` has `/blog` then app `B` shouldn't have it too.\n- Make sure to add an [assetPrefix](https://github.com/zeit/next.js#cdn-support-with-asset-prefix) to avoid conflicts with static files.\n\n### How to merge them\n\nYou can merge zones using any HTTP proxy.\n\nYou can use [now dev](https://zeit.co/docs/v2/development/basics) as your local development server. It allows you to easily define routing routes for multiple apps like below:\n\n```json\n{\n  \"version\": 2,\n  \"builds\": [\n    { \"src\": \"docs/next.config.js\", \"use\": \"@now/next\" },\n    { \"src\": \"home/next.config.js\", \"use\": \"@now/next\" }\n  ],\n  \"routes\": [\n    { \"src\": \"/docs(.*)\", \"dest\": \"docs$1\", \"continue\": true },\n    { \"src\": \"(?!/?docs)(.*)\", \"dest\": \"home$1\", \"continue\": true }\n  ]\n}\n```\n\nFor the production deployment, you can use the same configuration and run `now` to do the deployment with [ZEIT Now](https://zeit.co/now). Otherwise you can also configure a proxy server to route using a set of routes like the ones above, e.g deploy the docs app to `https://docs.example.com` and the home app to `https://home.example.com` and then add a proxy server for both apps in `https://example.com`.\n\n## Recipes\n\n- [Setting up 301 redirects](https://www.raygesualdo.com/posts/301-redirects-with-nextjs/)\n- [Dealing with SSR and server only modules](https://arunoda.me/blog/ssr-and-server-only-modules)\n- [Building with React-Material-UI-Next-Express-Mongoose-Mongodb](https://github.com/builderbook/builderbook)\n- [Build a SaaS Product with React-Material-UI-Next-MobX-Express-Mongoose-MongoDB-TypeScript](https://github.com/async-labs/saas)\n\n## FAQ\n\n<details>\n  <summary>Is this production ready?</summary>\n  Next.js has been powering https://zeit.co since its inception.\n\nWe’re ecstatic about both the developer experience and end-user performance, so we decided to share it with the community.\n\n</details>\n\n<details>\n  <summary>How big is it?</summary>\n\nThe client side bundle size should be measured in a per-app basis.\nA small Next main bundle is around 65kb gzipped.\n\n</details>\n\n<details>\n  <summary>Is this like `create-react-app`?</summary>\n\nYes and No.\n\nYes in that both make your life easier.\n\nNo in that it enforces a _structure_ so that we can do more advanced things like:\n\n- Server side rendering\n- Automatic code splitting\n\nIn addition, Next.js provides two built-in features that are critical for every single website:\n\n- Routing with lazy component loading: `<Link>` (by importing `next/link`)\n- A way for components to alter `<head>`: `<Head>` (by importing `next/head`)\n\nIf you want to create re-usable React components that you can embed in your Next.js app or other React applications, using `create-react-app` is a great idea. You can later `import` it and keep your codebase clean!\n\n</details>\n\n<details>\n  <summary>How do I use CSS-in-JS solutions?</summary>\n\nNext.js bundles [styled-jsx](https://github.com/zeit/styled-jsx) supporting scoped css. However you can use any CSS-in-JS solution in your Next app by just including your favorite library [as mentioned before](#css-in-js) in the document.\n\n</details>\n\n<details>\n  <summary>What syntactic features are transpiled? How do I change them?</summary>\n\nWe track V8. Since V8 has wide support for ES6 and `async` and `await`, we transpile those. Since V8 doesn’t support class decorators, we don’t transpile those.\n\nSee the documentation about [customizing the babel config](#customizing-babel-config) and [next/preset](/packages/next/build/babel/preset.js) for more information.\n\n</details>\n\n<details>\n  <summary>Why a new Router?</summary>\n\nNext.js is special in that:\n\n- Routes don’t need to be known ahead of time\n- Routes are always lazy-loadable\n- Top-level components can define `getInitialProps` that should _block_ the loading of the route (either when server-rendering or lazy-loading)\n\nAs a result, we were able to introduce a very simple approach to routing that consists of two pieces:\n\n- Every top level component receives a `url` object to inspect the url or perform modifications to the history\n- A `<Link />` component is used to wrap elements like anchors (`<a/>`) to perform client-side transitions\n\n</details>\n\n<details>\n<summary>How do I define a custom fancy route?</summary>\n\nNext.js provide [dynamic routing](#dynamic-routing) solution out of the box. This allows to use pretty links in url.\n\nYou can check an [example](https://github.com/zeit/next.js/tree/canary/examples/dynamic-routing) to see how it works.\n\n</details>\n\n<details>\n<summary>How do I fetch data?</summary>\n\nIt’s up to you. `getInitialProps` is an `async` function (or a regular function that returns a `Promise`). It can retrieve data from anywhere.\n\n</details>\n\n<details>\n  <summary>Can I use it with GraphQL?</summary>\n\nYes! Here's an example with [Apollo](/examples/with-apollo).\n\n</details>\n\n<details>\n<summary>Can I use it with Redux and thunk?</summary>\n\nYes! Here's an [example](/examples/with-redux-thunk).\n\n</details>\n\n<details>\n<summary>Can I use it with Redux?</summary>\n\nYes! Here's an [example](/examples/with-redux).\n\n</details>\n\n<details>\n<summary>Can I use Next with my favorite Javascript library or toolkit?</summary>\n\nSince our first release we've had **many** example contributions, you can check them out in the [examples](/examples) directory.\n\n</details>\n\n<details>\n<summary>What is this inspired by?</summary>\n\nMany of the goals we set out to accomplish were the ones listed in [The 7 principles of Rich Web Applications](http://rauchg.com/2014/7-principles-of-rich-web-applications/) by Guillermo Rauch.\n\nThe ease-of-use of PHP is a great inspiration. We feel Next.js is a suitable replacement for many scenarios where you otherwise would use PHP to output HTML.\n\nUnlike PHP, we benefit from the ES6 module system and every file exports a **component or function** that can be easily imported for lazy evaluation or testing.\n\nAs we were researching options for server-rendering React that didn’t involve a large number of steps, we came across [react-page](https://github.com/facebookarchive/react-page) (now deprecated), a similar approach to Next.js by the creator of React Jordan Walke.\n\n</details>\n\n## Contributing\n\nPlease see our [contributing.md](/contributing.md).\n\n## Authors\n\n- Arunoda Susiripala ([@arunoda](https://twitter.com/arunoda)) – [ZEIT](https://zeit.co)\n- Tim Neutkens ([@timneutkens](https://twitter.com/timneutkens)) – [ZEIT](https://zeit.co)\n- Naoyuki Kanezawa ([@nkzawa](https://twitter.com/nkzawa)) – [ZEIT](https://zeit.co)\n- Tony Kovanen ([@tonykovanen](https://twitter.com/tonykovanen)) – [ZEIT](https://zeit.co)\n- Guillermo Rauch ([@rauchg](https://twitter.com/rauchg)) – [ZEIT](https://zeit.co)\n- Dan Zajdband ([@impronunciable](https://twitter.com/impronunciable)) – Knight-Mozilla / Coral Project\n",
  "readmeFilename": "README.md",
  "repository": {
    "type": "git",
    "url": "git+https://github.com/zeit/next.js.git"
  },
  "scripts": {
    "build": "taskr",
    "prepublish": "npm run release && yarn types",
    "release": "taskr release",
    "types": "tsc --declaration --emitDeclarationOnly --declarationDir dist",
    "typescript": "tsc --noEmit --declaration"
  },
  "taskr": {
    "requires": [
      "./taskfile-babel.js",
      "./taskfile-ncc.js",
      "./taskfile-typescript.js"
    ]
  },
  "types": "types/index.d.ts",
  "version": "9.0.6"
}
